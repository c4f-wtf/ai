var LIB=function(e){var n={};function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(o,s,function(n){return e[n]}.bind(null,s));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=249)}({21:function(e,n,t){"use strict";t.d(n,"d",(function(){return l})),t.d(n,"a",(function(){return d})),t.d(n,"e",(function(){return u})),t.d(n,"b",(function(){return m})),t.d(n,"c",(function(){return g})),t.d(n,"f",(function(){return f}));var o=t(39),s=t.n(o);function a(e,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw new TypeError("attempted to use private field on non-instance");return e}var r=0;function i(e){return"__private_"+r+++"_"+e}async function l(e,n=null,t=self,o=[]){return new Promise((s,a)=>{let r;n&&(r=setTimeout(()=>{a(Error(`message timeout: ${e}`))},n));const i=new MessageChannel;i.port1.onmessage=e=>{clearTimeout(r),e.data&&e.data.result?s(e.data.result):s(void 0)},t.postMessage(e,[i.port2,...o])})}class d{constructor(){Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),this.promise=void 0,this.resolved=!1,this.value=void 0,this.promise=new Promise((e,n)=>{a(this,c)[c]=e,a(this,p)[p]=n})}resolve(e){return this.resolved=!0,this.value=e,a(this,c)[c](e),e}reject(e){this.resolved=!0,a(this,p)[p](e)}}var c=i("resolve"),p=i("reject");function u(e){return s()(e,{replacer:function(e,n){return n instanceof Error?{type:"__ERROR__",message:n.message,stack:n.stack}:n instanceof Function?{type:"__FUNCTION__",name:n.name}:n instanceof Map?{type:"__MAP__",data:[...n]}:n instanceof Set?{type:"__SET__",data:[...n]}:n instanceof Date||"string"==typeof n&&/^\d{4}-[01]\d-[0-3]\dT[012]\d:[0-5]\d:[0-5]\d\.\d{3}Z$/.test(n)?{type:"__DATE__",timestamp:+new Date(n)}:n instanceof Uint8Array?{type:"__Uint8Array__",data:Array.from(n)}:void 0===n?"__UNDEFINED__":n===Number.POSITIVE_INFINITY?"__+INFINITY__":n===Number.NEGATIVE_INFINITY?"__-INFINITY__":Number.isNaN(n)?"__NAN__":n}})}function m(e){return function e(n,t){if(n instanceof Object)for(const[o,s]of Object.entries(n))n[o]=e(s,t);return t(n)}(JSON.parse(e,(function(e,n){if(n instanceof Object){if("__ERROR__"===n.type){const e=Error(n.message);return e.stack=n.stack,e}if("__FUNCTION__"===n.type){const t=self[n.name];return t instanceof Function?t:void console.warn(`Skipped ${e}: Only global functions can be deserialized!`)}if("__MAP__"===n.type)return new Map(n.data);if("__SET__"===n.type)return new Set(n.data);if("__DATE__"===n.type)return new Date(n.timestamp);if("__Uint8Array__"===n.type)return new Uint8Array(n.data)}return"__+INFINITY__"===n?Number.POSITIVE_INFINITY:"__-INFINITY__"===n?Number.NEGATIVE_INFINITY:"__NAN__"===n?NaN:n})),e=>{if("__UNDEFINED__"!==e)return e})}function g(e,n=window){const t=t=>{const o=e.getBoundingClientRect(),s={bubbles:t.bubbles,cancelable:t.cancelable,clientX:t.clientX+o.x,clientY:t.clientY+o.y,pageX:t.pageX+o.x,pageY:t.pageY+o.y,x:t.x+o.x,y:t.y+o.y,offsetX:t.offsetX+o.x,offsetY:t.offsetY+o.y};n.dispatchEvent(new MouseEvent(t.type,s))},o=e=>{n.dispatchEvent(new KeyboardEvent(e.type,e))},s=e.contentWindow;if(!s)throw new h("iframe has no contentWindow");s.onmousedown=t,s.onmousemove=t,s.onmouseup=t,s.onkeydown=o,s.onkeypress=o,s.onkeyup=o}function f(){throw new h("Something went terribly wrong. This should never be called!")}class h extends Error{}},249:function(e,n,t){"use strict";t.r(n);var o=t(21);const s=new Map([["debugging.md","# Debugging\n\n\n## General\nAll the written code is executed inside a module WebWorker directly inside your browser, meaning all available features allowed in this context can be used. This mainly excludes dom-access and the window object.  \nWith this in mind some changes were made to provide better error feedback.\n\n\n## Logging\nFirst of all, the console.log/warn/error calls get intercepted and printed to the editor console. Additionally all calls go to the developer-console of the browser which can be useful when something doesn't render correctly or is not known at the time of logging (e.g. promises).\nThe code inside the worker runs on a single thread with the result, that the logging output only reaches the main app when the program has time to send the messages. This means logging statements inside busy-loops will not be visible until the blocking code is finished.\nAlternatively the handle _console from utils.js can be used to log directly to the normal developer console without any limitations.\n\n\n## Debugger\nFor more in depth debugging the breakpoint statement \n```javascript\ndebugger;\n```\ncan be used to trigger the debugger as long as the development-tools are open. The debugger itself can be used without limitations.\n\n\n## Errors\nCurrently it is not possible to get useful error information regarding syntax errors from dynamically imported files. Therefore the editor itself checks all files for errors and reports them to the console once the program runs. These checks are independent of the browser and can differ. In case of false reports, the program still runs, despite the error messages. In case of missed errors the program will stop and the limited error message will be reported.\nIf at any time invalid errors are shown or error messages are missing, try reloading the page. If the problem persists, please file a bug report.\n\n\n### Enums\nJavascript does not support enums. All enums are normal Javascript objects with mappings from key to value and value to key. This means one can easily get the string representation for a value using it as a key.\n```javascript\nconst dir = EDirection.Left;\nconsole.log(dir); // prints 2\nconsole.log(EDirection[dir]); // prints 'Left'\n```"],["editor.md","# Editor\n\nThe editor in use ist [monaco](https://microsoft.github.io/monaco-editor).\n\n## Common Shortcuts\n| Keys | Effect |\n|---|---|\n| F1 | Command Palette |\n| Ctrl + K -> C | Add Line Comment |\n| Ctrl + K -> U | Remove Line Comment |\n| Ctrl + Shift + I | Auto Format (JavaScript) |\n| Ctrl + Alt + Shift + Up/Down | Duplicate Line |\n| Alt + Up/Down | Swap Lines |\n| Ctrl + F | Find/Replace |\n\x3c!-- | ctrl + shift + 7 | comment/uncomment | --\x3e"],["index.md","# Index\n\nThe entrance for each project is the file index.js. The start and train buttons call the corresponding [asynchronous](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function) functions 'start' and 'train', which have to be [exported](https://developer.mozilla.org/en-US/docs/web/javascript/reference/statements/export) to be accessible. The 'start' function is mandatory, as it is called when the scenario is loaded. 'train' is optional and can safely be removed when not needed.\n```javascript\nexport async function start(){\n    console.log(\"start was clicked\");\n}\n\nexport async function train(){\n    console.log(\"train was clicked\");\n}\n```\n\n## Scenario\n\nUsually all the functionality for a scenario can be found inside the file scenario.js. It is recommended to include the whole file at once to make use of the autocompletion to easily find the needed functions or objects.\n```javascript\nimport * as $ from 'project/scenario.js';\n```"],["prolog.md","# Prolog\n\n```javascript\nimport { pl } from 'lib/prolog.js';\n```\n\nThe prolog.js file provides access to the [tau-prolog](http://tau-prolog.org) library. It provides promise-based alternatives to most of the useful functions and is fully integrated into the editor. To be better compatible with the async/await workflow already used, whenever a function uses a callback in [tau-prolog](http://tau-prolog.org) it now returns a promise instead.  \nIncluded modules are: Lists, JavaScript, Random and Statistics.\n\nThe basic prolog code can be written in separate .pl files. These files can be included into a knowledge-base by using the consult method.\n```javascript\n// create knowledge-base\nconst kb = pl.create();\n// load prolog file\nawait kb.consult('myFile.pl');\n```"],["tensorflow.md","# Tensorflow\n\n```javascript\nimport { tf, facemesh, ... } from 'lib/tensorflow.js';\n```\n\nWhile the whole [tensorflowjs](https://www.tensorflow.org/js) library is available using the tf namespace, there is currently no editor integration (autocompletion etc...). It is on the Todo list, but there is no estimate when it will be done.\n\nIncluded models: [blazeface](https://github.com/tensorflow/tfjs-models/tree/master/blazeface), [facemesh](https://github.com/tensorflow/tfjs-models/tree/master/facemesh), [handpose](https://github.com/tensorflow/tfjs-models/tree/master/handpose), [posenet](https://github.com/tensorflow/tfjs-models/tree/master/posenet), [bodyPix](https://github.com/tensorflow/tfjs-models/tree/master/body-pix)"],["utils.md","# Utils\n\n```javascript\nimport * as _ from 'lib/utils.js';\n```\n\n## Table of Contents\n1. [Introduction](#introduction)\n2. [Exports](#exports)\n    - [getCanvas()](#getcanvas)\n    - [loadImages(paths)](#loadimagespaths)\n    - [getImage(name)](#getimagename)\n    - [setMessages(html)](#setmessageshtml)\n    - [addMessage(html)](#addmessagehtml)\n    - [storeJson(path, data)](#storejsonpath-data)\n    - [loadJson(path)](#loadjsonpath)\n    - [getFileContent(path)](#getfilecontentpath)\n    - [onVideoFrameUpdate(callback)](#onvideoframeupdatecallback)\n    - [seedRandom(seed)](#seedrandomseed)\n    - [sleep(ms)](#sleepms)\n    - [localStorage](#localstorage)\n    - [console](#console)\n\n\n## Introduction\nThe util.js library provides a mixture of useful functions, ranging from debugging to drawing and file handling.\n\n[[Top](#utils)]\n\n\n\n## Exports\n\n\n### getCanvas()\nReturns the main [HTML canvas](https://www.w3schools.com/html/html5_canvas.asp) as an OffscreenCanvas. This function is mainly used inside of scenarios to provide graphical feedback.\n```javascript\nfunction getCanvas(): OffscreenCanvas;\n```\n[[Top](#utils)]\n\n\n### loadImages(paths)\nLoads all given images into memory.  \nThey then can be used with [getImage](#getimagename).\n```javascript\nfunction loadImages(paths: string[]): Promise<void>;\n```\nExample:\n```javascript\nawait _.loadImages([\n    '/project/hero.png',\n]);\n```\n[[Top](#utils)]\n\n\n### getImage(name)\nReturns an image, previously loaded with [loadImages](#loadimagespaths).  \nThe name is the filename of the image without the extension.  \nReturns undefined when the image was not loaded correctly.\n```javascript\nfunction getImage(name: string): ImageBitmap | undefined;\n```\nExample:\n```javascript\nconst img = _.getImage('hero');\n```\n[[Top](#utils)]\n\n\n### setMessages(html)\nOverwrites all current messages with the given html.\n```javascript\nfunction setMessages(html: string): Promise<void>;\n```\nExample:\n```javascript\n_.setMessages('<p>some text here...</p>');\n```\n[[Top](#utils)]\n\n\n### addMessage(html)\nAppends the given html at the end of the messages.\n```javascript\nfunction addMessage(html: string): Promise<void>;\n```\nExample:\n```javascript\n_.addMessage('<p>some additional text here...</p>');\n```\n[[Top](#utils)]\n\n\n### storeJson(path, data)\nSaves any object to a file using the JSON-format and returns a promise, which resolves when the file has been written.\n```javascript\nfunction storeJson(path: string, data: any): Promise<void>;\n```\nExample:\n```javascript\nawait _.storeJson('project/myFile.json', { answer: 42 });\n```\n[[Top](#utils)]\n\n\n### loadJson(path)\nLoads and parses the given json-file and returns a promise with the resulting object.\n```javascript\nfunction loadJson(path: string): Promise<any>;\n```\nExample:\n```javascript\nconst data = await _.loadJson('project/myFile.json');\n```\n[[Top](#utils)]\n\n\n### getFileContent(path)\nLoads and returns the content of a file as string.\n```javascript\nfunction getFileContent(path: string): Promise<any>;\n```\n[[Top](#utils)]\n\n\n### onVideoFrameUpdate(callback)\nCalls the given function whenever a camera frame is received.  \nRequires a working camera.\n```javascript\nfunction onVideoFrameUpdate(callback: (data: ImageBitmap) => void): void;\n```\nExample:\n```javascript\nconst canvas = _.getCanvas();\nconst ctx = canvas.getContext('2d');\n_.onVideoFrameUpdate((data) => {\n    ctx.drawImage(data, 0, 0);\n});\n```\n[[Top](#utils)]\n\n\n### seedRandom(seed)\nReturns a pseudo-random-number-generator based of a given seed. Further calls return the same sequence of pseudo-random-numbers. It is based on the [seedrandom](https://github.com/davidbau/seedrandom) library.\n```javascript\nfunction seedRandom(seed: string): {\n    (): number,\n    quick(): number,\n    int32(): number,\n};\n```\nExample:\n```javascript\nconst rng = _.seedRandom('42');\nconsole.log(rng()) // 64bit float between 0 and 1\nconsole.log(rng.quick()) // 32bit float between 0 and 1\nconsole.log(rng.int32()) // 32bit signed integer\n```\n[[Top](#utils)]\n\n\n### sleep(ms)\nReturns a promise that resolved after a given number of milliseconds.  \n```javascript\nfunction sleep(ms: number): Promise<void>\n```\nExample:\n```javascript\nawait _.sleep(500);\n```\n[[Top](#utils)]\n\n\n### localStorage\nSimulates the [window.localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) to provide simple access to a key-value-store.\nIt creates the file localstorage.json to persist its data.\n```javascript\nconst localStorage: {\n    length: number,\n    key(n: number): string | null,\n    setItem(key: string, value: any): void,\n    getItem(key: string): any,\n    removeItem(key: string): void,\n    clear(): void,\n}\n```\nExample:\n```javascript\n_.localStorage.setItem('hello', 'world');\nconst value = _.localStorage.getItem('hello');\nconsole.log(value);\n```\n[[Top](#utils)]\n\n\n### console\nProvides access to the normal window.console. Useful for debugging in blocking code or when logging big/many objects.  \n\nExample:\n```javascript\n_.console.warn('something went wrong...');\n```\n[[Top](#utils)]"]]);let a=new o.a;window.onFile=e=>{},window.onAddFileGlobal=()=>{},window.onAddFileProject=()=>{},window.onDelete=async e=>{};let r=!1;function i(e){let n=void 0,t=void 0,o=e.parent;return["index.js","assets"].includes(e.text)||["#","docs"].includes(o)||(n={label:"delete&nbsp;file",icon:"../assets/interface/trash.svg",action:()=>window.onDelete(e.data)}),["assets"].includes(e.text)||["#","docs"].includes(o)||(t={label:"download&nbsp;file",icon:"../assets/interface/download.svg",action:()=>window.onDownloadFile(e.data)}),{create:{label:"create&nbsp;file",icon:"../assets/interface/add.svg",action:()=>window.onAddFile()},upload:{label:"upload&nbsp;file",icon:"../assets/interface/upload.svg",action:()=>window.onUploadFile()},download:t,remove:n}}function l(e){const n=e.split(".");return n.length<1?"unknown":n[n.length-1]}onload=()=>{$("#jstree").jstree({plugins:["contextmenu"],contextmenu:{items:i,show_at_node:!0},core:{multiple:!1}}),a.resolve($("#jstree").jstree(!0)),$("#jstree").on("refresh.jstree",()=>{a.resolve($("#jstree").jstree(!0))});let e=void 0;$("#jstree").on("select_node.jstree",(n,t)=>{const o=window.event||n,s=(null==o?void 0:o.which)||(null==o?void 0:o.button);var a;"#"===t.node.parent||"assets"===t.node.text?1===s&&(t.instance.deselect_node(t.node),t.node.state.opened?$("#jstree").jstree("close_node",t.node):$("#jstree").jstree("open_node",t.node),r=!0,t.instance.select_node(e),r=!1):(window.onFile&&!r&&(null===(a=e)||void 0===a?void 0:a.id)!==t.node.id&&window.onFile(t.node.data),e=t.node)})},window.updateFiles=async function(e,n,t,r=[]){const i=n.filter(e=>!/\.(png|jpe?g)$/.test(e.name)),d=n.filter(e=>/\.(png|jpe?g)$/.test(e.name)),c=e.filter(e=>!/\.(png|jpe?g)$/.test(e.name)),p=e.filter(e=>/\.(png|jpe?g)$/.test(e.name)),u=[];d.length&&u.push({id:"projectAssets",parent:"project",text:"assets",state:{opened:!1,selected:!1}}),p.length&&u.push({id:"globalAssets",parent:"global",text:"assets",state:{opened:!1,selected:!1}});const m=[...Array.from(s).map(([e,n])=>({id:`docs/${e}`,parent:"docs",text:e,icon:`../assets/filetree/${l(e)}.svg`,data:{id:0,projectId:0,name:`docs/${e}`,content:n}})),...u,{id:"docs",parent:"#",text:"docs",state:{opened:!1,selected:!1}},{id:"global",parent:"#",text:"global",state:{opened:!0,selected:!1}},{id:"project",parent:"#",text:"project",state:{opened:!0,selected:!1}},...i.map(e=>{let n=l(e.name);return{id:e.id,parent:"project",text:e.name,icon:`../assets/filetree/${n}.svg`,data:e}}),...d.map(e=>{let n=l(e.name);return{id:e.id,parent:"projectAssets",text:e.name,icon:`../assets/filetree/${n}.svg`,data:e}}),...c.map(e=>{let n=l(e.name);return{id:e.id,parent:"global",text:e.name,icon:`../assets/filetree/${n}.svg`,data:e}}),...p.map(e=>{let n=l(e.name);return{id:e.id,parent:"globalAssets",text:e.name,icon:`../assets/filetree/${n}.svg`,data:e}})],g=await a.promise;g.settings&&(g.settings.core.data=m),g.refresh(),a=new o.a,window.setErrors(r),window.selectFile(t)},window.selectFile=async function(e){if(e){const n=await a.promise;r=!0,e.id?n.activate_node(e.id,void 0):n.activate_node(e.name,void 0),r=!1}};const d={};window.setErrors=async function(e){const n=await a.promise;for(const t of Object.keys(e)){const e=n.get_node(t);e&&(n.set_icon(e,"../assets/filetree/error.svg"),d[t]=e)}for(const t of Object.values(d))if(!e[Number(t.id)]){const e=l(t.text);n.set_icon(t,`../assets/filetree/${e}.svg`),delete d[t.id]}}},39:function(e,n,t){"use strict";var o=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,n){var t,s,a;return n=n||{},t=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),s=""===t?1/0:void 0===n.maxLength?80:n.maxLength,a=n.replacer,function e(n,r,i){var l,d,c,p,u,m,g,f,h,v,w,b;if(n&&"function"==typeof n.toJSON&&(n=n.toJSON()),void 0===(w=JSON.stringify(n,a)))return w;if(g=s-r.length-i,w.length<=g&&(h=w.replace(o,(function(e,n){return n||e+" "}))).length<=g)return h;if(null!=a&&(n=JSON.parse(w),a=void 0),"object"==typeof n&&null!==n){if(f=r+t,c=[],d=0,Array.isArray(n))for(v="[",l="]",g=n.length;d<g;d++)c.push(e(n[d],f,d===g-1?0:1)||"null");else for(v="{",l="}",g=(m=Object.keys(n)).length;d<g;d++)p=m[d],u=JSON.stringify(p)+": ",void 0!==(b=e(n[p],f,u.length+(d===g-1?0:1)))&&c.push(u+b);if(c.length>0)return[v,t+c.join(",\n"+f),l].join("\n"+r)}return w}(e,"",0)}}});