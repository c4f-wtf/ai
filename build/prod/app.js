/*! For license information please see app.js.LICENSE.txt */
var LIB=function(e){function t(t){for(var n,i,o=t[0],s=t[1],a=0,u=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={3:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+""+({}[e]||e)+".js"}(e);var c=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonpLIB=window.webpackJsonpLIB||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var c=s;return i(i.s=391)}({103:function(e,t,n){"use strict";var r=n(238);function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function s(e){return"__private_"+o+++"_"+e}var a=s("db"),c=s("files"),u=s("projects");class l extends Error{}const h=new class{constructor(e){Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),i(this,a)[a]=new r.a(e),i(this,a)[a].version(1).stores({files:"++id,&[projectId+name],projectId",projects:"++id,&name"}),i(this,c)[c]=i(this,a)[a].table("files"),i(this,u)[u]=i(this,a)[a].table("projects")}async createFile(e,t,n="",r=Date.now()){return i(this,c)[c].add({projectId:e,name:t,content:n,lastChange:r})}async loadFile(e){const t=await i(this,c)[c].get(e);if(!t)throw new l(`file ${e} does not exist`);return{...t,id:e}}async loadFileByName(e,t){const n=await i(this,c)[c].get({projectId:e,name:t});if(!n||void 0===n.id)throw new l(`file '${t}' does not exist`);return{...n,id:n.id}}async saveFile(e,t=Date.now()){if(0===await i(this,c)[c].update(e.id,{content:e.content,state:e.state,lastChange:t}))throw new l(`could not save file ${e.id}`)}async saveFileContent(e,t,n=Date.now()){if(0===await i(this,c)[c].update(e,{content:t,lastChange:n}))throw console.error(`could not save file ${e}`,{content:t,lastChange:n}),new l(`could not save file ${e}`)}async saveFileState(e,t,n=Date.now()){if(0===await i(this,c)[c].update(e,{state:t,lastChange:n}))throw new l(`could not save file ${e}`)}async removeFile(e){await i(this,c)[c].where("id").equals(e).delete()}async renameFile(e,t,n=Date.now()){if(0===await i(this,c)[c].update(e,{name:t,lastChange:n}))throw new l(`could not rename file ${e}`)}async fileExists(e,t){return void 0!==await i(this,c)[c].get({projectId:e,name:t})}async createProject(e,t,n=[]){return i(this,a)[a].transaction("rw",i(this,u)[u],i(this,c)[c],async()=>{const r=await i(this,u)[u].add({name:e,scenario:t}),o=n.map(e=>this.createFile(r,e.name,e.content));return await Promise.all(o),r})}async removeProject(e){await i(this,a)[a].transaction("rw",i(this,u)[u],i(this,c)[c],async()=>{await i(this,c)[c].where("projectId").equals(e).delete(),await i(this,u)[u].where("id").equals(e).delete()})}async getProjects(){const e=await i(this,u)[u].toArray(),t=[];for(const n of e){if(void 0===n.id)throw new l("this should never happen");t.push({...n,id:n.id})}return t}async getProject(e){const t=await i(this,u)[u].get(e);if(!t)throw new l(`project ${e} does not exist`);return{...t,id:e}}async getProjectByName(e){const t=await i(this,u)[u].get({name:e});if(!t||void 0===t.id)throw new l(`project '${e}' does not exist`);return{...t,id:t.id}}async getProjectFiles(e){const t=await i(this,c)[c].where("projectId").equals(e).toArray(),n=[];for(const e of t){if(void 0===e.id)throw new l("this should never happen");n.push({...e,id:e.id})}return n}async setProjectOpenFileId(e,t){await i(this,u)[u].update(e,{openFileId:t})}async importProject(e,t,n,r,o){return i(this,a)[a].transaction("rw",i(this,u)[u],i(this,c)[c],async()=>{const i=r.map(async e=>{try{const t=await this.loadFileByName(0,e.name);"new"===o&&await this.saveFileContent(t.id,e.content||"")}catch(t){await this.createFile(0,e.name,e.content)}});return await Promise.all(i),await this.createProject(e,t,n)})}async projectExists(e){return void 0!==await i(this,u)[u].get({name:e})}}("ai.c4f.wtf");t.a=h},105:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={},i={}},118:function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,i,o;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),i=""===n?1/0:void 0===t.maxLength?80:t.maxLength,o=t.replacer,function e(t,s,a){var c,u,l,h,f,d,p,v,y,m,g,b;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(g=JSON.stringify(t,o)))return g;if(p=i-s.length-a,g.length<=p&&(y=g.replace(r,(function(e,t){return t||e+" "}))).length<=p)return y;if(null!=o&&(t=JSON.parse(g),o=void 0),"object"==typeof t&&null!==t){if(v=s+n,l=[],u=0,Array.isArray(t))for(m="[",c="]",p=t.length;u<p;u++)l.push(e(t[u],v,u===p-1?0:1)||"null");else for(m="{",c="}",p=(d=Object.keys(t)).length;u<p;u++)h=d[u],f=JSON.stringify(h)+": ",void 0!==(b=e(t[h],v,f.length+(u===p-1?0:1)))&&l.push(f+b);if(l.length>0)return[m,n+l.join(",\n"+v),c].join("\n"+s)}return g}(e,"",0)}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));const r=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,i=(e,t,n=null,r=null)=>{for(;t!==n;){const n=t.nextSibling;e.insertBefore(t,r),t=n}},o=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}}},136:function(e,t,n){"use strict";n.d(t,"d",(function(){return s.a})),n.d(t,"f",(function(){return a.b})),n.d(t,"g",(function(){return a.c})),n.d(t,"a",(function(){return r.d})),n.d(t,"b",(function(){return o.b})),n.d(t,"c",(function(){return c.c})),n.d(t,"e",(function(){return u}));var r=n(96);const i=new class{handleAttributeExpressions(e,t,n,i){const o=t[0];if("."===o){return new r.e(e,t.slice(1),n).parts}return"@"===o?[new r.c(e,t.slice(1),i.eventContext)]:"?"===o?[new r.b(e,t.slice(1),n)]:new r.a(e,t,n).parts}handleTextExpression(e){return new r.d(e)}};var o=n(159),s=n(148),a=n(119),c=(n(105),n(149),n(147),n(167),n(70));(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const u=(e,...t)=>new o.b(e,t,"html",i)},147:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(70);function i(e){let t=o.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},o.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const i=e.strings.join(r.f);return n=t.keyString.get(i),void 0===n&&(n=new r.a(e,e.getTemplateElement()),t.keyString.set(i,n)),t.stringsArray.set(e.strings,n),n}const o=new Map},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const r=new WeakMap,i=e=>(...t)=>{const n=e(...t);return r.set(n,!0),n},o=e=>"function"==typeof e&&r.has(e)},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n(119),i=n(96),o=n(147);const s=new WeakMap,a=(e,t,n)=>{let a=s.get(t);void 0===a&&(Object(r.b)(t,t.firstChild),s.set(t,a=new i.d(Object.assign({templateFactory:o.b},n))),a.appendInto(t)),a.setValue(e),a.commit()}},158:function(e,t,n){"use strict";var r,i,o,s,a,c,u=n(38),l=n(165),h=n(172),f=n(62),d=n(206);function p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const y=new(i=v((r=class{constructor(){p(this,"page",i,this),p(this,"params",o,this),p(this,"offline",s,this),p(this,"modal",a,this),p(this,"reportOpen",c,this)}async navigate(e,t){let r="index",i=[];try{const e=location.hash.substr(1);switch(i=e?e.split("&").map(e=>e.split("=")):[],i.length&&(r=i[0][0]),r){case"project":Promise.all([n.e(0),n.e(13),n.e(14)]).then(n.bind(null,395));const e=Number(i[0][1]);e&&await h.a.openProject(e);break;case"projects":Promise.all([n.e(0),n.e(1)]).then(n.bind(null,245)),await h.a.closeProject();break;case"news":Promise.resolve().then(n.bind(null,206)),await h.a.closeProject();break;case"impressum":n.e(20).then(n.bind(null,396)),await h.a.closeProject();break;case"index":default:(l.a.get("news_version")||0)<d.NEWS_VERSION?(Promise.resolve().then(n.bind(null,206)),r="news"):(Promise.all([n.e(0),n.e(1)]).then(n.bind(null,245)),r="projects"),await h.a.closeProject()}}catch(e){console.warn(e),n.e(19).then(n.bind(null,397)),r="404"}Object(u.f)(()=>{this.page=r,this.params=i})}async updateOfflineStatus(e){this.offline=e}async showModal(e,t){await n(247)(`./modal-${e}`);const r=new f.a;return Object(u.f)(()=>{this.modal&&this.modal.result.reject(Error("Previous modal not closed!")),this.modal={template:e,data:t,result:r}}),r.promise}async resolveModal(e){this.modal&&(this.modal.result.resolve(e),this.modal=null)}async rejectModal(e){this.modal&&(this.modal.result.reject(e),this.modal=null)}openReport(){this.reportOpen=!0}closeReport(){this.reportOpen=!1}}).prototype,"page",[u.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=v(r.prototype,"params",[u.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=v(r.prototype,"offline",[u.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=v(r.prototype,"modal",[u.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=v(r.prototype,"reportOpen",[u.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v(r.prototype,"navigate",[u.b],Object.getOwnPropertyDescriptor(r.prototype,"navigate"),r.prototype),v(r.prototype,"updateOfflineStatus",[u.b],Object.getOwnPropertyDescriptor(r.prototype,"updateOfflineStatus"),r.prototype),v(r.prototype,"showModal",[u.b],Object.getOwnPropertyDescriptor(r.prototype,"showModal"),r.prototype),v(r.prototype,"resolveModal",[u.b],Object.getOwnPropertyDescriptor(r.prototype,"resolveModal"),r.prototype),v(r.prototype,"rejectModal",[u.b],Object.getOwnPropertyDescriptor(r.prototype,"rejectModal"),r.prototype),v(r.prototype,"openReport",[u.b],Object.getOwnPropertyDescriptor(r.prototype,"openReport"),r.prototype),v(r.prototype,"closeReport",[u.b],Object.getOwnPropertyDescriptor(r.prototype,"closeReport"),r.prototype),r);t.a=y},159:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n(119),i=n(70);const o=` ${i.f} `;class s{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],s=e.lastIndexOf("\x3c!--");n=(s>-1||n)&&-1===e.indexOf("--\x3e",s+1);const a=i.e.exec(e);t+=null===a?e+(n?o:i.g):e.substr(0,a.index)+a[1]+a[2]+i.b+a[3]+i.f}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class a extends s{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,n=t.firstChild;return t.removeChild(n),Object(r.c)(t,n.firstChild),e}}},165:function(e,t,n){"use strict";var r,i,o=n(38);function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const a=new(i=s((r=class{constructor(){var e,t,n,r;e=this,t="data",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}set(e,t){this.data[e]=t,window.localStorage.setItem("settings",JSON.stringify(this.data))}get(e,t){return void 0!==this.data[e]?this.data[e]:t}}).prototype,"data",[o.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JSON.parse(window.localStorage.getItem("settings")||"{}")}}),s(r.prototype,"set",[o.b],Object.getOwnPropertyDescriptor(r.prototype,"set"),r.prototype),r);Object(o.c)(e=>{localStorage.setItem("settings",JSON.stringify(a.data))}),t.a=a},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(119),i=n(70);class o{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=r.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let s,a=0,c=0,u=o.nextNode();for(;a<n.length;)if(s=n[a],Object(i.d)(s)){for(;c<s.index;)c++,"TEMPLATE"===u.nodeName&&(t.push(u),o.currentNode=u.content),null===(u=o.nextNode())&&(o.currentNode=t.pop(),u=o.nextNode());if("node"===s.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(u.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,s.name,s.strings,this.options));a++}else this.__parts.push(void 0),a++;return r.a&&(document.adoptNode(e),customElements.upgrade(e)),e}}},168:function(e,t,n){"use strict";var r=n(186),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},172:function(e,t,n){"use strict";var r,i,o,s,a,c,u,l,h=n(38),f=n(103),d=n(394),p=n(165);function v(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var m=0;function g(e){return"__private_"+m+++"_"+e}function b(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const w=new(c=class{constructor(){v(this,"activeProject",i,this),v(this,"activeFile",o,this),v(this,"log",s,this),v(this,"lastFileTreeChange",a,this),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:[]}),y(this,u)[u]=Object(d.a)(()=>{const e=p.a.get("log_queue_length",500);Object(h.f)(()=>{this.log.push(...y(this,l)[l]),this.log.length>e&&this.log.splice(0,this.log.length-e)}),y(this,l)[l]=[]},100)}async openProject(e){const t=await f.a.getProject(e);let n=null;if(t.openFileId)try{n=await f.a.loadFile(t.openFileId)}catch(e){}if(!n)for(const t of["readme.md","scenario.md","index.js"])try{n=await f.a.loadFileByName(e,t);break}catch(e){}return Object(h.f)(()=>{this.activeFile=n,this.activeProject=t,this.lastFileTreeChange=Date.now()}),t}async closeProject(){this.activeProject=null,this.activeFile=null}async createProject(e,t,n){return await f.a.createProject(e,t,n)}async updateProjectErrors(e,t){let n={};if(this.activeProject&&this.activeProject.id===e&&this.activeProject.errors)n=Object(h.g)(this.activeProject.errors);else{const t=await f.a.getProject(e);n=t.errors||n}for(const[e,r]of Object.entries(t))r.length>0?n[Number(e)]=r:delete n[Number(e)];Object(h.f)(()=>{var t;(null===(t=this.activeProject)||void 0===t?void 0:t.id)===e&&(this.activeProject.errors=n)})}async deleteProject(e){this.activeProject&&this.activeProject.id===e&&await this.closeProject(),await f.a.removeProject(e)}async importProject(e,t,n,r,i){return await f.a.importProject(e,t,n,r,i)}async openFile(e,t){var n;this.activeFile&&await this.flushFile();const r=await f.a.loadFile(e);return this.activeProject&&(null===(n=this.activeFile)||void 0===n?void 0:n.id)!==e&&f.a.setProjectOpenFileId(this.activeProject.id,e),t&&r.state&&(r.state.cursorState=[{inSelectionMode:!1,position:t,selectionStart:t}],r.state.viewState={firstPosition:t,scrollLeft:0,firstPositionDeltaTop:0}),Object(h.f)(()=>{this.activeFile=r}),r}async openVirtualFile(e){return this.activeFile&&await this.flushFile(),Object(h.f)(()=>{this.activeFile=e}),e}async closeFile(){this.activeFile=null}async createFile(e,t=0,n=""){const r=await f.a.createFile(t,e,n);return Object(h.f)(()=>{this.lastFileTreeChange=Date.now()}),r}async deleteFile(e){this.activeFile&&this.activeFile.id===e&&await this.closeFile(),await f.a.removeFile(e),Object(h.f)(()=>{this.lastFileTreeChange=Date.now()})}async saveFileContent(e,t){await f.a.saveFileContent(e,t),Object(h.f)(()=>{var n;(null===(n=this.activeFile)||void 0===n?void 0:n.id)===e&&(this.activeFile.content=t)})}async saveFileState(e,t){await f.a.saveFileState(e,t),Object(h.f)(()=>{var n;(null===(n=this.activeFile)||void 0===n?void 0:n.id)===e&&(this.activeFile.state=t)})}async flushFile(){}async renameFile(e,t){await f.a.renameFile(e,t),Object(h.f)(()=>{var n;(null===(n=this.activeFile)||void 0===n?void 0:n.id)===e&&(this.activeFile.name=t),this.lastFileTreeChange=Date.now()})}async addLog(e,t,n){if(n)try{if(!n.fileId&&n.projectId&&n.fileName){const e=await f.a.loadFileByName(n.projectId,n.fileName);n.fileId=e.id}if((!n.projectId||!n.fileName)&&n.fileId){const e=await f.a.loadFile(n.fileId);n.projectId=e.projectId,n.fileName=e.name}}catch(e){console.warn(e)}y(this,l)[l].push({type:e,args:t,caller:n}),y(this,u)[u]()}async clearLog(){this.log=[]}},u=g("logThrottle"),l=g("logQueue"),i=b((r=c).prototype,"activeProject",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=b(r.prototype,"activeFile",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=b(r.prototype,"log",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=b(r.prototype,"lastFileTreeChange",[h.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b(r.prototype,"openProject",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"openProject"),r.prototype),b(r.prototype,"closeProject",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"closeProject"),r.prototype),b(r.prototype,"updateProjectErrors",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"updateProjectErrors"),r.prototype),b(r.prototype,"openFile",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"openFile"),r.prototype),b(r.prototype,"openVirtualFile",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"openVirtualFile"),r.prototype),b(r.prototype,"closeFile",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"closeFile"),r.prototype),b(r.prototype,"createFile",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"createFile"),r.prototype),b(r.prototype,"deleteFile",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"deleteFile"),r.prototype),b(r.prototype,"saveFileContent",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"saveFileContent"),r.prototype),b(r.prototype,"saveFileState",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"saveFileState"),r.prototype),b(r.prototype,"renameFile",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"renameFile"),r.prototype),b(r.prototype,"clearLog",[h.b],Object.getOwnPropertyDescriptor(r.prototype,"clearLog"),r.prototype),r);t.a=w},185:function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},186:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(82))},189:function(e,t,n){"use strict";var r=n(168).a.Symbol,i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;var c=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i},u=Object.prototype.toString;var l=function(e){return u.call(e)},h=r?r.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":h&&h in Object(e)?c(e):l(e)}},201:function(e,t,n){"use strict";var r=n(95);t.a=r.b`:host {
  display: block;
  box-sizing: border-box;
  font-size: 16px;
}

body, html {
  height: 100%;
}

label {
  font-family: var(--font-sans-serif);
}

h1 {
  font-size: 1.5em;
}

h2 {
  font-size: 1.25em;
}

h3 {
  font-size: 1em;
}

h1, h2, h3 {
  padding: 0;
  margin: 0;
  font-family: var(--font-serif);
  font-weight: bold;
  /*text-shadow: 1px 1px 1px var(--color-shadow);*/
}

ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

li {
  font-family: var(--font-sans-serif);
}

p {
  margin: 1em 0;
  font-family: var(--font-sans-serif);
}

a {
  text-decoration: none;
  color: var(--color-text);
  font-family: var(--font-monospace);
  cursor: pointer;
}

a:hover {
  color: var(--color-highlight);
  text-decoration: underline;
}

em {
  font-weight: bold;
  font-style: normal;
}

*[hidden] {
  display: none;
}

button {
  border-radius: 3px;
  color: black;
  font-weight: bold;
  padding: 0.25em 0.5em;
  text-align: center;
  background-color: #ddd;
  background: linear-gradient(#ddd, #bbb);
  border: 1px solid #bbb;
  /* fix browser inconsistencies */
  line-height: 1em;
  height: 1.75em;
}

button.warning {
  color: white;
  background-color: #cc3;
  background: linear-gradient(#cc3, #aa2);
  border: 1px solid #aa2;
  text-shadow: 0 -1px 0 #771;
}

button.error {
  color: white;
  background-color: #c53;
  background: linear-gradient(#c53, #a32);
  border: 1px solid #a32;
  text-shadow: 0 -1px 0 #721;
}

button.ok {
  color: white;
  background-color: #7b3;
  background: linear-gradient(#7b3, #592);
  border: 1px solid #592;
  text-shadow: 0 -1px 0 #461;
}

/* forms */

input, select {
  /* fix browser inconsistencies */
  border-width: 1px;
  border: 1px solid var(--color-border);
  line-height: 1em;
  height: 1.75em;
  background-color: white;
}

form {
  min-width: 20em;
}

form>header {
  border-bottom: 1px solid var(--color-border);
  margin-bottom: 0.5em;
  padding-bottom: 0.5em;
}

form>footer {
  border-top: 1px solid var(--color-border);
  margin-top: 0.5em;
  padding-top: 0.5em;
  display: flex;
  justify-content: space-between;
}

form select {
  height: 2.4em;
}

form>ul {
  list-style-type: none;
}

form>ul>li {
  display: flex;
  align-content: stretch;
  align-items: center;
  padding: 0.5em;
}

form>ul>li>* {
  flex: 1 1 0;
  padding: 0.25em;
  margin: 0;
}

form>ul>li>label {
  max-width: 6em;
  min-width: 6em;
  order: -1;
}

form>ul>li>label::after {
  content: ':';
}

button#yes {
  order: 1;
}

button#no {
  order: 0;
}`},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(38);const i=Symbol("LitMobxRenderReaction"),o=Symbol("LitMobxRequestUpdate");var s=n(95);class a extends(function(e){var t,n;return n=class extends e{constructor(){super(...arguments),this[t]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();const e=this.constructor.name||this.nodeName;this[i]=new r.a(`${e}.update()`,this[o]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[i]&&(this[i].dispose(),this[i]=void 0)}update(e){this[i]?this[i].track(super.update.bind(this,e)):super.update(e)}},t=o,n}(s.a)){}},206:function(e,t,n){"use strict";n.r(t),n.d(t,"NEWS_VERSION",(function(){return h}));var r=n(95),i=n(230),o=n(165),s=n(201),a=r.b`:host{
    padding: 2em 0.5em 0.5em 0.5em;
    text-align: center;
}

section#news{
    display: flex;
    flex-direction: column;
    align-items: center;
}

section#news > section{
    display: inline-block;
    max-width: 40em;
}

footer{
    border-top: 1px solid var(--color-border);
    
}

a{
    text-decoration: underline;
}

ul{
    margin: 1em 0;
    text-align: left;
    list-style-type: square;
}`;var c=r.c`
<section>
    <h1>Welcome to ai.c4f.wtf</h1>
    <p>This website is a new platform for teaching and experimenting with ai techniques on various scenarios. It enables the user to focus on solving the task ahead by providing a complete programming environment inside the browser as well as engaging scenarios to test someones skills.<br>The goal was not to teach specific algorithms or techniques, for which you can find many examples online, but to provide an easy to use, no setup required, ai development environment, where you can just try out the algorithms you learned previously.</p>
    <p>This project is part of my masters-thesis and i would be very thankful when i could get some feedback using <a href="https://docs.google.com/forms/d/e/1FAIpQLSfrFYo0PnULmqOhQY4bxE_uWwe21m-RtxmboGFRlJW9Or5r4w/viewform">this questionnaire</a>.<br>Furthermore the app is open-source and its code can be found <a href="https://gitlab.c4f.wtf/c4f.wtf/ai">here on GitLab</a>. It was created with extensibility in mind, any contributions (especially new scenarios) are very welcome.</p>
    <p>For security and privacy reasons, everything you do only happens locally on your computer. If you want to transfer your project to another computer simply export it and then import it on your target machine.</p>
    <p>This page is under heavy development, scenarios might change and bugs may occur. To help fixing those problems please make use of the report function in the top right corner.</p>
<section>
`;var u=r.c`
<section>
    <h1>Update 2020.07.11</h1>
    <ul>
        <li>added camera support</li>
        <li>added tensorflow models</li>
        <li>added tensorflow example (facemesh)</li>
        <li>minor bugfixes</li>
    </ul>
<section>
`;const l=r.c`
<section>
    <h1>Update 2020.10.12</h1>
    <ul>
        <li>added Flabby Bird scenario</li>
        <li>moved mouse events into lib</li>
        <li>added 2 additional layers of canvases</li>
        <li>updated editor to new version</li>
        <li>restructured scenarios (moved examples)</li>
        <li>minor bugfixes</li>
    </ul>
<section>
`;const h=3,f={1:c,2:u,3:l};class d extends i.a{constructor(...e){super(...e),this._skip=!1}static get properties(){return{...super.properties,_skip:{type:Boolean}}}static get styles(){return[s.a,a]}render(){const e=o.a.get("news_version")||0,t=[];for(const[n,r]of Object.entries(f))(Number(n)>e&&Number(n)<=h||Number(n)===e&&e===h)&&t.push(r);return r.c`
            <section id="news">
                ${t}
            </section>
            <footer>
                <p><button @click=${this.onContinue} class="ok">Continue</button></p>
            </footer>
        `}async onContinue(){o.a.set("news_version",h),location.href="#projects"}firstUpdated(){}}window.customElements.define("ai-news",d)},216:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(217),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(82))},217:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,a,c=1,u={},l=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},f.clearImmediate=d}function d(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(82),n(90))},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(202);class i extends r.a{constructor(...e){super(...e),this.active=void 0}static get properties(){return{active:{type:Boolean}}}shouldUpdate(){return this.active}}},238:function(e,t,n){"use strict";(function(e,n){var r=Object.keys,i=Array.isArray,o="undefined"!=typeof self?self:"undefined"!=typeof window?window:e;function s(e,t){return"object"!=typeof t?e:(r(t).forEach((function(n){e[n]=t[n]})),e)}var a=Object.getPrototypeOf,c={}.hasOwnProperty;function u(e,t){return c.call(e,t)}function l(e,t){"function"==typeof t&&(t=t(a(e))),r(t).forEach((function(n){f(e,n,t[n])}))}var h=Object.defineProperty;function f(e,t,n,r){h(e,t,s(n&&u(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,"constructor",e),{extend:l.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor;var v=[].slice;function y(e,t,n){return v.call(e,t,n)}function m(e,t){return t(e)}function g(e){if(!e)throw new Error("Assertion Failed")}function b(e){o.setImmediate?n(e):setTimeout(e,0)}function w(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function _(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function O(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function S(e,t){if(u(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=S(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:S(a,t.substr(s+1))}}function x(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){g("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)x(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===n?delete e[s]:e[s]=n;else{var c=e[s];c||(c=e[s]={}),x(c,a,n)}}else void 0===n?delete e[t]:e[t]=n}}function j(e){var t={};for(var n in e)u(e,n)&&(t[n]=e[n]);return t}var P=[].concat;function k(e){return P.apply([],e)}var E="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(k([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return o[e]})).map((function(e){return o[e]}));function A(e){if(!e||"object"!=typeof e)return e;var t;if(i(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(A(e[n]))}else if(E.indexOf(e.constructor)>=0)t=e;else for(var o in t=e.constructor?Object.create(e.constructor.prototype):{},e)u(e,o)&&(t[o]=A(e[o]));return t}function T(e,t,n,i){return n=n||{},i=i||"",r(e).forEach((function(r){if(u(t,r)){var o=e[r],s=t[r];"object"==typeof o&&"object"==typeof s&&o&&s&&""+o.constructor==""+s.constructor?T(o,s,n,i+r+"."):o!==s&&(n[i+r]=t[r])}else n[i+r]=void 0})),r(t).forEach((function(r){u(e,r)||(n[i+r]=t[r])})),n}var C="undefined"!=typeof Symbol&&Symbol.iterator,N=C?function(e){var t;return null!=e&&(t=e[C])&&t.apply(e)}:function(){return null},I={};function D(e){var t,n,r,o;if(1===arguments.length){if(i(e))return e.slice();if(this===I&&"string"==typeof e)return[e];if(o=N(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var F="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function V(e,t){F=e,M=t}var M=function(){return!0},R=!new Error("").stack;function B(){if(R)try{throw B.arguments,new Error}catch(e){return e}return new Error}function U(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(M).map((function(e){return"\n"+e})).join("")):""}var L=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],K=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(L),z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function $(e,t){this._e=B(),this.name=e,this.message=t}function q(e,t,n,r){this._e=B(),this.failures=t,this.failedKeys=r,this.successCount=n}function W(e,t){this._e=B(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}d($).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+U(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(q).from($),d(W).from($);var G=K.reduce((function(e,t){return e[t]=t+"Error",e}),{}),H=$,J=K.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=B(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=z[t]||n,this.inner=null)}return d(r).from(H),e[t]=r,e}),{});J.Syntax=SyntaxError,J.Type=TypeError,J.Range=RangeError;var Y=L.reduce((function(e,t){return e[t+"Error"]=J[t],e}),{});var X=K.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=J[t]),e}),{});function Q(){}function Z(e){return e}function ee(e,t){return null==e||e===Z?t:function(n){return t(e(n))}}function te(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ne(e,t){return e===Q?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0!==o?o:n}}function re(e,t){return e===Q?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}}function ie(e,t){return e===Q?t:function(n){var r=e.apply(this,arguments);s(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?te(i,this.onsuccess):i),o&&(this.onerror=this.onerror?te(o,this.onerror):o),void 0===r?void 0===a?void 0:a:s(r,a)}}function oe(e,t){return e===Q?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function se(e,t){return e===Q?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}X.ModifyError=q,X.DexieError=$,X.BulkError=W;var ae={},ce=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=o.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),ue=ce[0],le=ce[1],he=ce[2],fe=le&&le.then,de=ue&&ue.constructor,pe=ce[3],ve=!!he,ye=!1,me=he?function(){he.then(Be)}:o.setImmediate?n.bind(null,Be):o.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Be(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Be,0)},ge=function(e,t){ke.push([e,t]),we&&(me(),we=!1)},be=!0,we=!0,_e=[],Oe=[],Se=null,xe=Z,je={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{ct(e[0],e[1])}catch(e){}}))}},Pe=je,ke=[],Ee=0,Ae=[];function Te(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Q,this._lib=!1;var t=this._PSD=Pe;if(F&&(this._stackHolder=B(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&De(this,this._value))}this._state=null,this._value=null,++t.ref,Ie(this,e)}var Ce={get:function(){var e=Pe,t=Je;function n(n,r){var i=this,o=!e.global&&(e!==Pe||t!==Je);o&&Ze();var s=new Te((function(t,s){Ve(i,new Ne(st(n,e,o),st(r,e,o),t,s,e))}));return F&&Re(s,this),s}return n.prototype=ae,n},set:function(e){f(this,"then",e&&e.prototype===ae?Ce:{get:function(){return e},set:Ce.set})}};function Ne(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ie(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ue();t&&"function"==typeof t.then?Ie(e,(function(e,n){t instanceof Te?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Fe(e)),n&&Le()}}),De.bind(null,e))}catch(t){De(e,t)}}function De(e,t){if(Oe.push(t),null===e._state){var n=e._lib&&Ue();t=xe(t),e._state=!1,e._value=t,F&&null!==t&&"object"==typeof t&&!t._promise&&O((function(){var n=function e(t,n){var r;return p(t,n)||(r=a(t))&&e(r,n)}(t,"stack");t._promise=e,f(t,"stack",{get:function(){return ye?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){_e.some((function(t){return t._value===e._value}))||_e.push(e)}(e),Fe(e),n&&Le()}}function Fe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ve(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Ee&&(++Ee,ge((function(){0==--Ee&&Ke()}),[]))}function Ve(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ee,ge(Me,[n,e,t])}else e._listeners.push(t)}function Me(e,t,n){try{Se=t;var r,i=t._value;t._state?r=e(i):(Oe.length&&(Oe=[]),r=e(i),-1===Oe.indexOf(i)&&function(e){var t=_e.length;for(;t;)if(_e[--t]._value===e._value)return void _e.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Se=null,0==--Ee&&Ke(),--n.psd.ref||n.psd.finalize()}}function Re(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Be(){Ue()&&Le()}function Ue(){var e=be;return be=!1,we=!1,e}function Le(){var e,t,n;do{for(;ke.length>0;)for(e=ke,ke=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(ke.length>0);be=!0,we=!0}function Ke(){var e=_e;_e=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ae.slice(0),n=t.length;n;)t[--n]()}function ze(e){return new Te(ae,!1,e)}function $e(e,t){var n=Pe;return function(){var r=Ue(),i=Pe;try{return rt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{rt(i,!1),r&&Le()}}}l(Te.prototype,{then:Ce,_then:function(e,t){Ve(this,new Ne(null,null,e,t,Pe))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):ze(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):ze(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),ze(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{ye=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var o,s,a=t._value;null!=a?(o=a.name||"Error",s=a.message||a,i=U(a,0)):(o=a,s=""),n.push(o+(s?": "+s:"")+i)}F&&((i=U(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ye=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Te((function(r,i){var o=setTimeout((function(){return i(new J.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&f(Te.prototype,Symbol.toStringTag,"Promise"),je.env=it(),l(Te,{all:function(){var e=D.apply(null,arguments).map(et);return new Te((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Te.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Te)return e;if(e&&"function"==typeof e.then)return new Te((function(t,n){e.then(t,n)}));var t=new Te(ae,!0,e);return Re(t,Se),t},reject:ze,race:function(){var e=D.apply(null,arguments).map(et);return new Te((function(t,n){e.map((function(e){return Te.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Pe},set:function(e){return Pe=e}},newPSD:Xe,usePSD:ot,scheduler:{get:function(){return ge},set:function(e){ge=e}},rejectionMapper:{get:function(){return xe},set:function(e){xe=e}},follow:function(e,t){return new Te((function(n,r){return Xe((function(t,n){var r=Pe;r.unhandleds=[],r.onunhandled=n,r.finalize=te((function(){var e=this;!function(e){Ae.push((function t(){e(),Ae.splice(Ae.indexOf(t),1)})),++Ee,ge((function(){0==--Ee&&Ke()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}});var qe={awaits:0,echoes:0,id:0},We=0,Ge=[],He=0,Je=0,Ye=0;function Xe(e,t,n,r){var i=Pe,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Ye;var a=je.env;o.env=ve?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,resolve:Te.resolve,reject:Te.reject,nthen:at(a.nthen,o),gthen:at(a.gthen,o)}:{},t&&s(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=ot(o,e,n,r);return 0===o.ref&&o.finalize(),c}function Qe(){return qe.id||(qe.id=++We),++qe.awaits,qe.echoes+=7,qe.id}function Ze(e){!qe.awaits||e&&e!==qe.id||(0==--qe.awaits&&(qe.id=0),qe.echoes=7*qe.awaits)}function et(e){return qe.echoes&&e&&e.constructor===de?(Qe(),e.then((function(e){return Ze(),e}),(function(e){return Ze(),ut(e)}))):e}function tt(e){++Je,qe.echoes&&0!=--qe.echoes||(qe.echoes=qe.id=0),Ge.push(Pe),rt(e,!0)}function nt(){var e=Ge[Ge.length-1];Ge.pop(),rt(e,!1)}function rt(e,t){var n,r=Pe;if((t?!qe.echoes||He++&&e===Pe:!He||--He&&e===Pe)||(n=t?tt.bind(null,e):nt,fe.call(ue,n)),e!==Pe&&(Pe=e,r===je&&(je.env=it()),ve)){var i=je.env.Promise,s=e.env;le.then=s.nthen,i.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(o,"Promise",s.PromiseProp),i.all=s.all,i.race=s.race,i.resolve=s.resolve,i.reject=s.reject)}}function it(){var e=o.Promise;return ve?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:le.then,gthen:e.prototype.then}:{}}function ot(e,t,n,r,i){var o=Pe;try{return rt(e,!0),t(n,r,i)}finally{rt(o,!1)}}function st(e,t,n){return"function"!=typeof e?e:function(){var r=Pe;n&&Qe(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(r,!1)}}}function at(e,t){return function(n,r){return e.call(this,st(n,t,!1),st(r,t,!1))}}function ct(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(o.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),s(r,i)):o.CustomEvent&&s(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&o.dispatchEvent&&(dispatchEvent(r),!o.PromiseRejectionEvent&&o.onunhandledrejection))try{o.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var ut=Te.reject;function lt(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=a;for(var o=1,s=arguments.length;o<s;++o)a(arguments[o]);return n;function a(e,r,i){if("object"==typeof e)return c(e);r||(r=oe),i||(i=Q);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function c(e){r(e).forEach((function(t){var n=e[t];if(i(n))a(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new J.InvalidArgument("Invalid event config");var r=a(t,Z,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){b((function(){e.apply(null,t)}))}))}))}}))}}var ht,ft=String.fromCharCode(65535),dt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ft}}(),pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vt=[],yt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),mt=yt,gt=yt,bt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function wt(e,t){var n,a,c,h,d,p=wt.dependencies,v=s({addons:wt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},t),b=v.addons,P=v.autoOpen,E=v.indexedDB,C=v.IDBKeyRange,N=this._dbSchema={},V=[],M=[],R={},L=null,K=null,z=!1,$=null,G=!1,H="readwrite",Y=this,X=new Te((function(e){n=e})),te=new Te((function(e,t){a=t})),oe=!0,ae=!!Ct(E);function ce(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ue(e,t,n){var i=Y._createTransaction(H,M,N);i.create(t),i._completion.catch(n);var o=i._reject.bind(i);Xe((function(){Pe.trans=i,0===e?(r(N).forEach((function(e){le(t,e,N[e].primKey,N[e].indexes)})),Te.follow((function(){return Y.on.populate.fire(i)})).catch(o)):function(e,t,n){var i=[],o=V.filter((function(t){return t._cfg.version===e}))[0];if(!o)throw new J.Upgrade("Dexie specification of currently installed DB version is missing");N=Y._dbSchema=o._cfg.dbschema;var s=!1;function a(){return i.length?Te.resolve(i.shift()(t.idbtrans)).then(a):Te.resolve()}return V.filter((function(t){return t._cfg.version>e})).forEach((function(e){i.push((function(){var r=N,i=e._cfg.dbschema;De(r,n),De(i,n),N=Y._dbSchema=i;var o=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(i){var s={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)s.recreate=!0,n.change.push(s);else{var a=i.idxByName,c=o.idxByName;for(var u in a)c[u]||s.del.push(u);for(u in c){var l=a[u],h=c[u];l?l.src!==h.src&&s.change.push(h):s.add.push(h)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,o])}return n}(r,i);if(o.add.forEach((function(e){le(n,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new J.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){he(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),he(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return s=!0,Te.follow((function(){e._cfg.contentUpgrade(t)}))})),i.push((function(t){s&&mt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),a().then((function(){!function(e,t){r(e).forEach((function(n){t.db.objectStoreNames.contains(n)||le(t,n,e[n].primKey,e[n].indexes)}))}(N,n)}))}(e,i,t).catch(o)}))}function le(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){he(i,e)})),i}function he(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function fe(e,t,n){var r=arguments.length;if(r<2)throw new J.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=k(i);return[e,o,n]}function ve(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=R[e]?R[e].hook:lt(null,{creating:[ne,Q],reading:[ee,Z],updating:[ie,Q],deleting:[re,Q]})}function ye(e,t,n){return(n?jt:St)((function(n){e.push(n),t&&t()}))}function me(e,t,n,r,i){return new Te((function(o,s){var a=n.length,c=a-1;if(0===a)return o();if(r){var u,l=jt(s),h=Ot(null);O((function(){for(var r=0;r<a;++r){u={onsuccess:null,onerror:null};var s=n[r];i.call(u,s[0],s[1],t);var f=e.delete(s[0]);f._hookCtx=u,f.onerror=l,f.onsuccess=r===c?Ot(o):h}}),(function(e){throw u.onerror&&u.onerror(e),e}))}else for(var f=0;f<a;++f){var d=e.delete(n[f]);d.onerror=St(s),f===c&&(d.onsuccess=$e((function(){return o()})))}}))}function ge(e,t,n,r){var i=this;this.db=Y,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=lt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),ut(e)}))}function be(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function we(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function _e(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Oe(e,t){return e._cfg.version-t._cfg.version}function Se(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===ge.prototype||e instanceof ge?f(e,t,{get:function(){return this.table(t)}}):e[t]=new ve(t,r))}))}))}function xe(e,t,n,r,i,o){var s=$e(o?function(e,t,r){return n(o(e),t,r)}:n,i);e.onerror||(e.onerror=St(i)),e.onsuccess=_(t?function(){var n=e.result;if(n){var o=function(){n.continue()};t(n,(function(e){o=e}),r,i)&&s(n.value,n,(function(e){o=e})),o()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};s(t.value,t,(function(e){n=e})),n()}else r()},i)}function je(e,t){return E.cmp(e,t)}function ke(e,t){return je(e,t)>0?e:t}function Ee(e,t){return E.cmp(e,t)}function Ae(e,t){return E.cmp(t,e)}function Ce(e,t){return e<t?-1:e===t?0:1}function Ne(e,t){return e>t?-1:e===t?0:1}function Ie(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function De(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],s=t.objectStore(i);c="getAll"in s;for(var a=0;a<s.indexNames.length;++a){var u=s.indexNames[a],l=s.index(u).keyPath,h="string"==typeof l?l:"["+y(l).join("+")+"]";if(e[i]){var f=e[i].idxByName[h];f&&(f.name=u)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c=!1)}function Fe(e){Y.on("blocked").fire(e),vt.filter((function(e){return e.name===Y.name&&e!==Y&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(L||z)throw new J.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=V.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new ce(e),V.push(t),V.sort(Oe),oe=!1,t)},s(ce.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e;var t={};V.forEach((function(e){s(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),N=Y._dbSchema=n,[R,Y,ge.prototype].forEach((function(e){for(var t in e)e[t]instanceof ve&&delete e[t]})),Se([R,Y,ge.prototype,this._cfg.tables],r(n),n),M=r(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){r(e).forEach((function(n){if(null!==e[n]){var r={},o=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Et(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(r),/\./.test(e)))})),t}(e[n]),s=o.shift();if(s.multi)throw new J.Schema("Primary key cannot be multi-valued");s.keyPath&&x(r,s.keyPath,s.auto?0:s.keyPath),o.forEach((function(e){if(e.auto)throw new J.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new J.Schema("Index must have a name and cannot be an empty string");x(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new At(n,s,o,r)}}))}}),this._allTables=R,this._createTransaction=function(e,t,n,r){return new ge(e,t,n,r)},this._whenReady=function(e){return G||Pe.letThrough?e():new Te((function(e,t){if(!z){if(!P)return void t(new J.DatabaseClosed);Y.open().catch(Q)}X.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(z||L)return X.then((function(){return K?ut(K):Y}));F&&(te._stackHolder=B()),z=!0,K=null,G=!1;var t=n,i=null;return Te.race([te,new Te((function(t,n){if(!E)throw new J.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=oe?E.open(e):E.open(e,Math.round(10*Y.verno));if(!o)throw new J.MissingAPI("IndexedDB API not available");o.onerror=St(n),o.onblocked=$e(Fe),o.onupgradeneeded=$e((function(t){if(i=o.transaction,oe&&!Y._allowEmptyDB){o.onerror=Pt,i.abort(),o.result.close();var r=E.deleteDatabase(e);r.onsuccess=r.onerror=$e((function(){n(new J.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{i.onerror=St(n),ue((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,n)}}),n),o.onsuccess=$e((function(){if(i=null,L=o.result,vt.push(Y),oe)!function(){if(Y.verno=L.version/10,Y._dbSchema=N={},0===(M=y(L.objectStoreNames,0)).length)return;var e=L.transaction(Tt(M),"readonly");M.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new Et(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),s=[],a=0;a<n.indexNames.length;++a){var c=n.index(n.indexNames[a]);i=(r=c.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var u=new Et(c.name,r,!!c.unique,!!c.multiEntry,!1,r&&"string"!=typeof r,i);s.push(u)}N[t]=new At(t,o,s,{})})),Se([R],r(N),N)}();else if(L.objectStoreNames.length>0)try{De(N,L.transaction(Tt(L.objectStoreNames),"readonly"))}catch(e){}L.onversionchange=$e((function(e){Y._vcFired=!0,Y.on("versionchange").fire(e)})),ae||"__dbnames"===e||ht.dbnames.put({name:e}).catch(Q),t()}),n)}))]).then((function(){return $=[],Te.resolve(wt.vip(Y.on.ready.fire)).then((function e(){if($.length>0){var t=$.reduce(se,Q);return $=[],Te.resolve(wt.vip(t)).then(e)}}))})).finally((function(){$=null})).then((function(){return z=!1,Y})).catch((function(e){try{i&&i.abort()}catch(e){}return z=!1,Y.close(),ut(K=e)})).finally((function(){G=!0,t()}))},this.close=function(){var e=vt.indexOf(Y);if(e>=0&&vt.splice(e,1),L){try{L.close()}catch(e){}L=null}P=!1,K=new J.DatabaseClosed,z&&a(K),X=new Te((function(e){n=e})),te=new Te((function(e,t){a=t}))},this.delete=function(){var t=arguments.length>0;return new Te((function(n,r){if(t)throw new J.InvalidArgument("Arguments not allowed in db.delete()");function i(){Y.close();var t=E.deleteDatabase(e);t.onsuccess=$e((function(){ae||ht.dbnames.delete(e).catch(Q),n()})),t.onerror=St(r),t.onblocked=Fe}z?X.then(i):i()}))},this.backendDB=function(){return L},this.isOpen=function(){return null!==L},this.hasBeenClosed=function(){return K&&K instanceof J.DatabaseClosed},this.hasFailed=function(){return null!==K},this.dynamicallyOpened=function(){return oe},this.name=e,l(this,{tables:{get:function(){return r(R).map((function(e){return R[e]}))}}}),this.on=lt(this,"populate","blocked","versionchange",{ready:[se,Q]}),this.on.ready.subscribe=m(this.on.ready.subscribe,(function(e){return function(t,n){wt.vip((function(){G?(K||Te.resolve().then(t),n&&e(t)):$?($.push(t),n&&e(t)):(e(t),n||e((function e(){Y.on.ready.unsubscribe(t),Y.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=fe.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=Pe.trans;r&&r.db===Y&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var o=t.map((function(e){var t=e instanceof ve?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=H)throw new J.InvalidArgument("Invalid transaction mode: "+e);e=H}if(r){if("readonly"===r.mode&&e===H){if(!i)throw new J.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new J.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(function(t,n){n(e)})):ut(e)}return r?r._promise(e,s,"lock"):Pe.trans?ot(Pe.transless,(function(){return Y._whenReady(s)})):Y._whenReady(s);function s(){return Te.resolve().then((function(){var t,i=Pe.transless||Pe,s=Y._createTransaction(e,o,N,r),a={trans:s,transless:i};r?s.idbtrans=r.idbtrans:s.create(),n.constructor===pe&&Qe();var c=Te.follow((function(){if(t=n.call(s,s))if(t.constructor===de){var e=Ze.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=kt(t))}),a);return(t&&"function"==typeof t.then?Te.resolve(t).then((function(e){return s.active?e:ut(new J.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):c.then((function(){return t}))).then((function(e){return r&&s._resolve(),s._completion.then((function(){return e}))})).catch((function(e){return s._reject(e),ut(e)}))}))}},this.table=function(e){if(!u(R,e))throw new J.InvalidTable("Table "+e+" does not exist");return R[e]},l(ve.prototype,{_trans:function(e,t,n){var r=this._tx||Pe.trans;return r&&r.db===Y?r===Pe.trans?r._promise(e,t,n):Xe((function(){return r._promise(e,t,n)}),{trans:r,transless:Pe.transless||Pe}):function e(t,n,r){if(G||Pe.letThrough){var i=Y._createTransaction(t,n,N);try{i.create()}catch(e){return ut(e)}return i._promise(t,(function(e,t){return Xe((function(){return Pe.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!z){if(!P)return ut(new J.DatabaseClosed);Y.open().catch(Q)}return X.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new J.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,i){var o=i.get(e);o.onerror=St(r),o.onsuccess=$e((function(){t(n.hook.reading.fire(o.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new be(this,e);if(i(e))return new be(this,"["+e.join("+")+"]");var t=r(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&dt!==ft)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var o=this.schema.idxByName,s=t.reduce((function(t,n){return[t[0]||o[n],t[0]||!o[n]?Ie(t[1],(function(t){return""+S(t,n)==""+e[n]})):t[1]]}),[null,null]),a=s[0];return a?this.where(a.name).equals(e[a.keyPath]).filter(s[1]):n?this.filter(s[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new we(new be(this,i(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new we(new be(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&_t(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(u(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(wt.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Q?this._idbstore(H,(function(t,n,r,i){t(me(r,i,e,!1,Q))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(H,(function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new J.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new J.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var s,a,c=function(e){0===u.length?r(e):i(new W(n.name+".bulkPut(): "+u.length+" of "+l+" operations failed",u))},u=[],l=e.length,h=n;if(n.hook.creating.fire===Q&&n.hook.updating.fire===Q){a=ye(u);for(var f=0,d=e.length;f<d;++f)(s=t?o.put(e[f],t[f]):o.put(e[f])).onerror=a;s.onerror=ye(u,c),s.onsuccess=xt(c)}else{var p=t||o.keyPath&&e.map((function(e){return S(e,o.keyPath)})),v=p&&w(p,(function(t,n){return null!=t&&[t,e[n]]}));(p?h.where(":id").anyOf(p.filter((function(e){return null!=e}))).modify((function(){this.value=v[this.primKey],v[this.primKey]=null})).catch(q,(function(e){u=e.failures})).then((function(){for(var n=[],r=t&&[],i=p.length-1;i>=0;--i){var o=p[i];(null==o||v[o])&&(n.push(e[i]),t&&r.push(o),null!=o&&(v[o]=null))}return n.reverse(),t&&r.reverse(),h.bulkAdd(n,r)})).then((function(e){var t=p[p.length-1];return null!=t?t:e})):h.bulkAdd(e)).then(c).catch(W,(function(e){u=u.concat(e.failures),c()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(H,(function(i,o,s,a){if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new J.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new J.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function c(e){0===f.length?i(e):o(new W(n.name+".bulkAdd(): "+f.length+" of "+d+" operations failed",f))}var u,l,h,f=[],d=e.length;if(r!==Q){var p,v=s.keyPath;l=ye(f,null,!0),h=Ot(null),O((function(){for(var n=0,i=e.length;n<i;++n){p={onerror:null,onsuccess:null};var o=t&&t[n],c=e[n],f=t?o:v?S(c,v):void 0,d=r.call(p,f,c,a);null==f&&null!=d&&(v?x(c=A(c),v,d):o=d),(u=null!=o?s.add(c,o):s.add(c))._hookCtx=p,n<i-1&&(u.onerror=l,p.onsuccess&&(u.onsuccess=h))}}),(function(e){throw p.onerror&&p.onerror(e),e})),u.onerror=ye(f,c,!0),u.onsuccess=Ot(c)}else{l=ye(f);for(var y=0,m=e.length;y<m;++y)(u=t?s.add(e[y],t[y]):s.add(e[y])).onerror=l;u.onerror=ye(f,c),u.onsuccess=xt(c)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(H,(function(r,i,o,s){var a={onsuccess:null,onerror:null};if(n!==Q){var c=null!=t?t:o.keyPath?S(e,o.keyPath):void 0,u=n.call(a,c,e,s);null==c&&null!=u&&(o.keyPath?x(e,o.keyPath,u):t=u)}try{var l=null!=t?o.add(e,t):o.add(e);l._hookCtx=a,l.onerror=jt(i),l.onsuccess=Ot((function(t){var n=o.keyPath;n&&x(e,n,t),r(t)}))}catch(e){throw a.onerror&&a.onerror(e),e}}))},put:function(e,t){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==Q||i!==Q){var o=this.schema.primKey.keyPath,s=void 0!==t?t:o&&S(e,o);return null==s?this.add(e):(e=A(e),this._trans(H,(function(){return n.where(":id").equals(s).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):s}))}),"locked"))}return this._idbstore(H,(function(n,r,i){var o=void 0!==t?i.put(e,t):i.put(e);o.onerror=St(r),o.onsuccess=$e((function(t){var r=i.keyPath;r&&x(e,r,t.target.result),n(o.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(H,(function(t,n,r){var i=r.delete(e);i.onerror=St(n),i.onsuccess=$e((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(H,(function(e,t,n){var r=n.clear();r.onerror=St(t),r.onsuccess=$e((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||i(t))throw new J.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||i(e))return this.where(":id").equals(e).modify(t);r(t).forEach((function(n){x(e,n,t[n])}));var n=S(e,this.schema.primKey.keyPath);return void 0===n?ut(new J.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),l(ge.prototype,{_lock:function(){return g(!Pe.global),++this._reculock,1!==this._reculock||Pe.global||(Pe.lockOwnerFor=this),this},_unlock:function(){if(g(!Pe.global),0==--this._reculock)for(Pe.global||(Pe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Pe.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(g(!this.idbtrans),!e&&!L)switch(K&&K.name){case"DatabaseClosedError":throw new J.DatabaseClosed(K);case"MissingAPIError":throw new J.MissingAPI(K.message,K);default:throw new J.OpenFailed(K)}if(!this.active)throw new J.TransactionInactive;return g(null===this._completion._state),(e=this.idbtrans=e||L.transaction(Tt(this.storeNames),this.mode)).onerror=$e((function(n){Pt(n),t._reject(e.error)})),e.onabort=$e((function(n){Pt(n),t.active&&t._reject(new J.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=$e((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===H&&this.mode!==H)return ut(new J.ReadOnly("Transaction is readonly"));if(!this.active)return ut(new J.TransactionInactive);if(this._locked())return new Te((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},Pe])}));if(n)return Xe((function(){var e=new Te((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Te((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Te.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new Te((function(n,i){e.then((function(e){return t._waitingQueue.push($e(n.bind(null,e)))}),(function(e){return t._waitingQueue.push($e(i.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new J.Abort),this.active=!1},tables:{get:(h="Transaction.tables",d=function(){return R},function(){return console.warn(h+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+U(B(),1)),d.apply(this,arguments)})},table:function(e){return new ve(e,Y.table(e).schema,this)}}),l(be.prototype,(function(){function e(e,t,n){var r=e instanceof be?new we(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new we(e,(function(){return C.only("")})).limit(0)}function n(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,c=0;c<s;++c){var u=t[c];if(u!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[c],u)<0&&(a=c)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function r(t,r,i,o){var s,a,c,u,l,h,f,d=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,"String expected.");function p(e){s=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),c="next"===e?Ce:Ne;var t=i.map((function(e){return{lower:a(e),upper:s(e)}})).sort((function(e,t){return c(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),h=e,f="next"===e?"":o}p("next");var v=new we(t,(function(){return C.bound(u[0],l[d-1]+o)}));v._ondirectionchange=function(e){p(e)};var y=0;return v._addAlgorithm((function(e,t,i){var o=e.key;if("string"!=typeof o)return!1;var s=a(o);if(r(s,l,y))return!0;for(var p=null,v=y;v<d;++v){var m=n(o,s,u[v],l[v],c,h);null===m&&null===p?y=v+1:(null===p||c(p,m)>0)&&(p=m)}return t(null!==p?function(){e.continue(p+f)}:i),!1})),v}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return je(n,r)>0||0===je(n,r)&&(i||o)&&(!i||!o)?t(this):new we(this,(function(){return C.bound(n,r,!i,!o)}))}catch(t){return e(this,pt)}},equals:function(e){return new we(this,(function(){return C.only(e)}))},above:function(e){return new we(this,(function(){return C.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new we(this,(function(){return C.lowerBound(e)}))},below:function(e){return new we(this,(function(){return C.upperBound(e,!0)}))},belowOrEqual:function(e){return new we(this,(function(){return C.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,"String expected."):this.between(t,t+ft,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ft)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=D.apply(I,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=D.apply(I,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ft)},anyOf:function(){var n=D.apply(I,arguments),r=Ee;try{n.sort(r)}catch(t){return e(this,pt)}if(0===n.length)return t(this);var i=new we(this,(function(){return C.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(e){r="next"===e?Ee:Ae,n.sort(r)};var o=0;return i._addAlgorithm((function(e,t,i){for(var s=e.key;r(s,n[o])>0;)if(++o===n.length)return t(i),!1;return 0===r(s,n[o])||(t((function(){e.continue(n[o])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[-1/0,e],[e,dt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=D.apply(I,arguments);if(0===t.length)return new we(this);try{t.sort(Ee)}catch(t){return e(this,pt)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return n.push([t[t.length-1],dt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&Ee(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",J.InvalidArgument);var i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers;var s,a=Ee;function c(e,t){return a(e[0],t[0])}try{(s=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(je(t[0],i[1])<0&&je(t[1],i[0])>0){i[0]=(o=i[0],s=t[0],je(o,s)<0?o:s),i[1]=ke(i[1],t[1]);break}}var o,s;return n===r&&e.push(t),e}),[])).sort(c)}catch(t){return e(this,pt)}var u=0,l=o?function(e){return Ee(e,s[u][1])>0}:function(e){return Ee(e,s[u][1])>=0},h=i?function(e){return Ae(e,s[u][0])>0}:function(e){return Ae(e,s[u][0])>=0};var f=l,d=new we(this,(function(){return C.bound(s[0][0],s[s.length-1][1],!i,!o)}));return d._ondirectionchange=function(e){"next"===e?(f=l,a=Ee):(f=h,a=Ae),s.sort(c)},d._addAlgorithm((function(e,t,n){for(var r=e.key;f(r);)if(++u===s.length)return t(n),!1;return!!function(e){return!l(e)&&!h(e)}(r)||0!==je(r,s[u][1])&&0!==je(r,s[u][0])&&(t((function(){a===Ee?e.continue(s[u][0]):e.continue(s[u][1])})),!1)})),d},startsWithAnyOf:function(){var n=D.apply(I,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+ft]}))):e(this,"startsWithAnyOf() only works with strings")}}})),l(we.prototype,(function(){function e(e,t){e.filter=Ie(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Ie(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new J.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function i(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,r,o){var s=e.replayFilter?Ie(e.filter,e.replayFilter()):e.filter;e.or?function(){var a={},c=0;function l(){2==++c&&n()}function h(e,n,i){if(!s||s(n,i,l,r)){var o=n.primaryKey,c=""+o;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(o)),u(a,c)||(a[c]=!0,t(e,n,i))}}e.or._iterate(h,l,r,o),xe(i(e,o),e.algorithm,h,l,r,!e.keysOnly&&e.valueMapper)}():xe(i(e,o),Ie(e.algorithm,s),t,n,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,ut.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,ut.bind(null,t.error)):t.table._idbstore(H,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Ie(t.algorithm,e)},_iterate:function(e,t,n,r){return o(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,i){o(t,e,n,r,i)}))},count:function(e){var t=this._ctx;if(_e(t,!0))return this._read((function(e,r,i){var o=n(t,i),s=t.range?o.count(t.range):o.count();s.onerror=St(r),s.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,i){o(t,(function(){return++r,!1}),(function(){e(r)}),n,i)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var n=o(e,i),r=o(t,i);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,i){if(c&&"next"===t.dir&&_e(t,!0)&&t.limit>0){var s=t.table.hook.reading.fire,a=n(t,i),u=t.limit<1/0?a.getAll(t.range,t.limit):a.getAll(t.range);u.onerror=St(r),u.onsuccess=xt(s===Z?e:function(t){try{e(t.map(s))}catch(e){r(e)}})}else{var l=[];o(t,(function(e){l.push(e)}),(function(){e(l)}),r,i)}}),e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,_e(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}})),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,i){return!t(e.value)||(r(i),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=Ie(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new be(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(c&&"next"===t.dir&&_e(t,!0)&&t.limit>0)return this._read((function(e,r,i){var o=n(t,i),s=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);s.onerror=St(r),s.onsuccess=xt(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=u(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,i=n.updating.fire,o=n.deleting.fire;return this._write((function(n,a,c,l){var h;if("function"==typeof e)h=i===Q&&o===Q?e:function(t){var n=A(t);if(!1===e.call(this,t,this))return!1;if(u(this,"value")){var s=T(n,this.value),a=i.call(this,s,this.primKey,n,l);a&&(t=this.value,r(a).forEach((function(e){x(t,e,a[e])})))}else o.call(this,this.primKey,t,l)};else if(i===Q){var f=r(e),d=f.length;h=function(t){for(var n=!1,r=0;r<d;++r){var i=f[r],o=e[i];S(t,i)!==o&&(x(t,i,o),n=!0)}return n}}else{var p=e;e=j(p),h=function(t){var n=!1,o=i.call(this,e,this.primKey,A(t),l);return o&&s(e,o),r(e).forEach((function(r){var i=e[r];S(t,r)!==i&&(x(t,r,i),n=!0)})),o&&(e=j(p)),n}}var v=0,y=0,m=!1,g=[],b=[],w=null;function _(e){return e&&(g.push(e),b.push(w)),a(new q("Error modifying one or more objects",g,y,b))}function P(){m&&y+g.length===v&&(g.length>0?_():n(y))}t.clone().raw()._iterate((function(e,t){w=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return g.push(e),b.push(n.primKey),P(),!0}if(!1!==h.call(n,e,n)){var i=!u(n,"value");++v,O((function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=jt(r),e.onsuccess=Ot((function(){++y,P()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){m=!0,P()}),_,c)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==Q;if(!i&&_e(t)&&(t.isPrimKey&&!gt||!n))return this._write((function(e,t,r){var i=St(t),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var s=o.result;O((function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(s)}}),(function(e){return t(e)}))}}));var o=i?2e3:1e4;return this._write((function(n,s,a,c){var u=0,l=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),h=[],f=function(){return l.each(i?function(e,t){h.push([t.primaryKey,t.value])}:function(e,t){h.push(t.primaryKey)}).then((function(){return i?h.sort((function(e,t){return Ee(e[0],t[0])})):h.sort(Ee),me(a,c,h,i,r)})).then((function(){var e=h.length;return u+=e,h=[],e<o?u:f()}))};n(f())}))}}})),s(this,{Collection:we,Table:ve,Transaction:ge,Version:ce,WhereClause:be}),Y.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Y.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Y.name+"'. Closing db now to resume the delete request."),Y.close()})),Y.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Y.name+"') was blocked"):console.warn("Upgrade '"+Y.name+"' blocked by other connection holding version "+e.oldVersion/10)})),b.forEach((function(e){e(Y)}))}function _t(e,t){return r(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(i(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return _t(n,t),n}return t}(t[n]);e[n]=r})),e}function Ot(e){return $e((function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),e&&e(i)}),e)}function St(e){return $e((function(t){return Pt(t),e(t.target.error),!1}))}function xt(e){return $e((function(t){e(t.target.result)}))}function jt(e){return $e((function(t){var n=t.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),Pt(t),e(r),!1}))}function Pt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function kt(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),s=o.value;return o.done?s:s&&"function"==typeof s.then?s.then(n,r):i(s)?Te.all(s).then(n,r):n(s)}}return o(t)()}function Et(e,t,n,r,i,o,s){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=s;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+a}function At(e,t,n,r){this.name=e,this.primKey=t||new Et,this.indexes=n||[new Et],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(n,(function(e){return[e.name,e]}))}function Tt(e){return 1===e.length?e[0]:e}function Ct(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}V(F,bt),l(wt,X),l(wt,{delete:function(e){var t=new wt(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new wt(e).open().then((function(e){return e.close(),!0})).catch(wt.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=Ct(wt.dependencies.indexedDB);return t?new Te((function(e,n){var r=t();r.onsuccess=function(t){e(y(t.target.result,0))},r.onerror=St(n)})).then(e):ht.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&s(this,e)}},applyStructure:_t,ignoreTransaction:function(e){return Pe.trans?ot(Pe.transless,e):e()},vip:function(e){return Xe((function(){return Pe.letThrough=!0,e()}))},async:function(e){return function(){try{var t=kt(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Te.resolve(t)}catch(e){return ut(e)}}},spawn:function(e,t,n){try{var r=kt(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Te.resolve(r)}catch(e){return ut(e)}},currentTransaction:{get:function(){return Pe.trans||null}},waitFor:function(e,t){var n=Te.resolve("function"==typeof e?wt.ignoreTransaction(e):e).timeout(t||6e4);return Pe.trans?Pe.trans.waitFor(n):n},Promise:Te,debug:{get:function(){return F},set:function(e){V(e,"dexie"===e?function(){return!0}:bt)}},derive:d,extend:s,props:l,override:m,Events:lt,getByKeyPath:S,setByKeyPath:x,delByKeyPath:function(e,t){"string"==typeof t?x(e,t,void 0):"length"in t&&[].map.call(t,(function(t){x(e,t,void 0)}))},shallowClone:j,deepClone:A,getObjectDiff:T,asap:b,maxKey:dt,minKey:-1/0,addons:[],connections:vt,MultiModifyError:J.Modify,errnames:G,IndexSpec:Et,TableSchema:At,dependencies:function(){try{return{indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:wt,Dexie:wt}),Te.rejectionMapper=function(e,t){if(!e||e instanceof $||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name])return e;var n=new Y[e.name](t||e.message,e);return"stack"in e&&f(n,"stack",{get:function(){return this.inner.stack}}),n},(ht=new wt("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==o.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return ht.dbnames.put({name:e}).catch(Q)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}(),t.a=wt}).call(this,n(82),n(216).setImmediate)},247:function(e,t,n){var r={"./modal-generic":[246,2],"./modal-generic.ts":[246,2]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=247,e.exports=i},38:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return Ce})),n.d(t,"b",(function(){return Be})),n.d(t,"c",(function(){return Ke})),n.d(t,"d",(function(){return $})),n.d(t,"e",(function(){return qe})),n.d(t,"f",(function(){return Ue})),n.d(t,"g",(function(){return it})),n.d(t,"h",(function(){return ot}));const i=[];Object.freeze(i);const o={};function s(){return++Se.mobxGuid}function a(e){throw c(!1,e),"X"}function c(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(o);function u(e){let t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}const l=()=>{};function h(e){return null!==e&&"object"==typeof e}function f(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function d(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function p(e,t){const n="isMobX"+e;return t.prototype[n]=!0,function(e){return h(e)&&!0===e[n]}}function v(e){return e instanceof Map}function y(e){return e instanceof Set}function m(e){const t=new Set;for(let n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach(n=>{Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)}),Array.from(t)}function g(e){return e&&e.toString?e.toString():new String(e).toString()}function b(e){return null===e?null:"object"==typeof e?""+e:e}const w=Symbol("mobx administration");class _{constructor(e="Atom@"+s()){this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=G.NOT_TRACKING}onBecomeObserved(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(e=>e())}onBecomeUnobserved(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(e=>e())}reportObserved(){return Ae(this)}reportChanged(){ke(),function(e){if(e.lowestObserverState===G.STALE)return;e.lowestObserverState=G.STALE,e.observers.forEach(t=>{t.dependenciesState===G.UP_TO_DATE&&(t.isTracing!==H.NONE&&Te(t,e),t.onBecomeStale()),t.dependenciesState=G.STALE})}(this),Ee()}toString(){return this.name}}const O=p("Atom",_);function S(e,t=l,n=l){const r=new _(e);var i;return t!==l&&Ge("onBecomeObserved",r,t,i),n!==l&&We(r,n),r}const x={identity:function(e,t){return e===t},structural:function(e,t){return Bt(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Bt(e,t,1)}},j=Symbol("mobx did run lazy initializers"),P=Symbol("mobx pending decorators"),k={},E={};function A(e,t){const n=t?k:E;return n[e]||(n[e]={configurable:!0,enumerable:t,get(){return T(this),this[e]},set(t){T(this),this[e]=t}})}function T(e){if(!0===e[j])return;const t=e[P];if(t){d(e,j,!0);const n=[...Object.getOwnPropertySymbols(t),...Object.keys(t)];for(const r of n){const n=t[r];n.propertyCreator(e,n.prop,n.descriptor,n.decoratorTarget,n.decoratorArguments)}}}function C(e,t){return function(){let n;const r=function(r,i,o,s){if(!0===s)return t(r,i,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,P)){const e=r[P];d(r,P,Object.assign({},e))}return r[P][i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},A(i,e)};return N(arguments)?(n=i,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function N(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function I(e,t,n){return et(e)?e:Array.isArray(e)?$.array(e,{name:n}):f(e)?$.object(e,void 0,{name:n}):v(e)?$.map(e,{name:n}):y(e)?$.set(e,{name:n}):e}function D(e){return e}function F(t){c(t);const n=C(!0,(e,n,r,i,o)=>{const s=r?r.initializer?r.initializer.call(e):r.value:void 0;Tt(e).addObservableProp(n,s,t)}),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}const V={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function M(e){return null==e?V:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(V);const R=F(I),B=F((function(e,t,n){return null==e?e:Ft(e)||wt(e)||xt(e)||Et(e)?e:Array.isArray(e)?$.array(e,{name:n,deep:!1}):f(e)?$.object(e,void 0,{name:n,deep:!1}):v(e)?$.map(e,{name:n,deep:!1}):y(e)?$.set(e,{name:n,deep:!1}):a(!1)})),U=F(D),L=F((function(e,t,n){return Bt(e,t)?t:e}));function K(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?D:I}const z={box(e,t){arguments.length>2&&q("box");const n=M(t);return new pe(e,K(n),n.name,!0,n.equals)},array(e,t){arguments.length>2&&q("array");const n=M(t);return function(e,t,n="ObservableArray@"+s(),r=!1){const i=new mt(n,t,r);o=i.values,a=w,c=i,Object.defineProperty(o,a,{enumerable:!1,writable:!1,configurable:!0,value:c});var o,a,c;const u=new Proxy(i.values,yt);if(i.proxy=u,e&&e.length){const t=fe(!0);i.spliceWithArray(0,0,e),de(t)}return u}(e,K(n),n.name)},map(e,t){arguments.length>2&&q("map");const n=M(t);return new St(e,K(n),n.name)},set(e,t){arguments.length>2&&q("set");const n=M(t);return new kt(e,K(n),n.name)},object(e,t,n){"string"==typeof arguments[1]&&q("object");const r=M(n);if(!1===r.proxy)return He({},e,t,r);{const n=Je(r),i=function(e){const t=new Proxy(e,ut);return e[w].proxy=t,t}(He({},void 0,void 0,r));return Ye(i,e,t,n),i}},ref:U,shallow:B,deep:R,struct:L},$=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return R.apply(null,arguments);if(et(e))return e;const r=f(e)?$.object(e,t,n):Array.isArray(e)?$.array(e,t):v(e)?$.map(e,t):y(e)?$.set(e,t):e;if(r!==e)return r;a(!1)};function q(e){a(`Expected one or two arguments to observable.${e}. Did you accidentally try to use observable.${e} as decorator?`)}Object.keys(z).forEach(e=>$[e]=z[e]);const W=C(!1,(e,t,n,r,i)=>{const{get:o,set:s}=n,a=i[0]||{};Tt(e).addComputedProp(e,t,Object.assign({get:o,set:s,context:e},a))});W({equals:x.structural});var G,H;!function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(G||(G={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(H||(H={}));class J{constructor(e){this.cause=e}}function Y(e){return e instanceof J}function X(e){switch(e.dependenciesState){case G.UP_TO_DATE:return!1;case G.NOT_TRACKING:case G.STALE:return!0;case G.POSSIBLY_STALE:{const t=ie(!0),n=ne(),r=e.observing,i=r.length;for(let o=0;o<i;o++){const i=r[o];if(me(i)){if(Se.disableErrorBoundaries)i.get();else try{i.get()}catch(e){return re(n),oe(t),!0}if(e.dependenciesState===G.STALE)return re(n),oe(t),!0}}return se(e),re(n),oe(t),!1}}}function Q(e){const t=e.observers.size>0;Se.computationDepth>0&&t&&a(!1),Se.allowStateChanges||!t&&"strict"!==Se.enforceActions||a(!1)}function Z(e,t,n){const r=ie(!0);se(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Se.runId;const i=Se.trackingDerivation;let o;if(Se.trackingDerivation=e,!0===Se.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new J(e)}return Se.trackingDerivation=i,function(e){const t=e.observing,n=e.observing=e.newObserving;let r=G.UP_TO_DATE,i=0,o=e.unboundDepsCount;for(let e=0;e<o;e++){const t=n[e];0===t.diffValue&&(t.diffValue=1,i!==e&&(n[i]=t),i++),t.dependenciesState>r&&(r=t.dependenciesState)}n.length=i,e.newObserving=null,o=t.length;for(;o--;){const n=t[o];0===n.diffValue&&je(n,e),n.diffValue=0}for(;i--;){const t=n[i];1===t.diffValue&&(t.diffValue=0,xe(t,e))}r!==G.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),oe(r),o}function ee(e){const t=e.observing;e.observing=[];let n=t.length;for(;n--;)je(t[n],e);e.dependenciesState=G.NOT_TRACKING}function te(e){const t=ne();try{return e()}finally{re(t)}}function ne(){const e=Se.trackingDerivation;return Se.trackingDerivation=null,e}function re(e){Se.trackingDerivation=e}function ie(e){const t=Se.allowStateReads;return Se.allowStateReads=e,t}function oe(e){Se.allowStateReads=e}function se(e){if(e.dependenciesState===G.UP_TO_DATE)return;e.dependenciesState=G.UP_TO_DATE;const t=e.observing;let n=t.length;for(;n--;)t[n].lowestObserverState=G.UP_TO_DATE}let ae=0,ce=1;const ue=Object.getOwnPropertyDescriptor(()=>{},"name");ue&&ue.configurable;function le(e,t,n){const r=function(){return he(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function he(e,t,n,r){const i=function(e,t,n){let r=0;0;const i=ne();ke();const o=fe(!0),s=ie(!0),a={prevDerivation:i,prevAllowStateChanges:o,prevAllowStateReads:s,notifySpy:!1,startTime:r,actionId:ce++,parentActionId:ae};return ae=a.actionId,a}();try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{!function(e){ae!==e.actionId&&a("invalid action stack. did you forget to finish an action?");ae=e.parentActionId,void 0!==e.error&&(Se.suppressReactionErrors=!0);de(e.prevAllowStateChanges),oe(e.prevAllowStateReads),Ee(),re(e.prevDerivation),e.notifySpy&&!1;Se.suppressReactionErrors=!1}(i)}}function fe(e){const t=Se.allowStateChanges;return Se.allowStateChanges=e,t}function de(e){Se.allowStateChanges=e}class pe extends _{constructor(e,t,n="ObservableValue@"+s(),r=!0,i=x.default){super(n),this.enhancer=t,this.name=n,this.equals=i,this.hasUnreportedChange=!1,this.value=t(e,void 0,n)}dehanceValue(e){return void 0!==this.dehancer?this.dehancer(e):e}set(e){this.value;if((e=this.prepareNewValue(e))!==Se.UNCHANGED){0,this.setNewValue(e)}}prepareNewValue(e){if(Q(this),lt(this)){const t=ft(this,{object:this,type:"update",newValue:e});if(!t)return Se.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Se.UNCHANGED:e}setNewValue(e){const t=this.value;this.value=e,this.reportChanged(),dt(this)&&vt(this,{type:"update",object:this,newValue:e,oldValue:t})}get(){return this.reportObserved(),this.dehanceValue(this.value)}intercept(e){return ht(this,e)}observe(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),pt(this,e)}toJSON(){return this.get()}toString(){return`${this.name}[${this.value}]`}valueOf(){return b(this.get())}[Symbol.toPrimitive](){return this.valueOf()}}const ve=p("ObservableValue",pe);class ye{constructor(e){this.dependenciesState=G.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=G.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+s(),this.value=new J(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=H.NONE,c(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+s(),e.set&&(this.setter=le(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?x.structural:x.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}onBecomeStale(){!function(e){if(e.lowestObserverState!==G.UP_TO_DATE)return;e.lowestObserverState=G.POSSIBLY_STALE,e.observers.forEach(t=>{t.dependenciesState===G.UP_TO_DATE&&(t.dependenciesState=G.POSSIBLY_STALE,t.isTracing!==H.NONE&&Te(t,e),t.onBecomeStale())})}(this)}onBecomeObserved(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(e=>e())}onBecomeUnobserved(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(e=>e())}get(){this.isComputing&&a(`Cycle detected in computation ${this.name}: ${this.derivation}`),0!==Se.inBatch||0!==this.observers.size||this.keepAlive?(Ae(this),X(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===G.STALE)return;e.lowestObserverState=G.STALE,e.observers.forEach(t=>{t.dependenciesState===G.POSSIBLY_STALE?t.dependenciesState=G.STALE:t.dependenciesState===G.UP_TO_DATE&&(e.lowestObserverState=G.UP_TO_DATE)})}(this)):X(this)&&(this.warnAboutUntrackedRead(),ke(),this.value=this.computeValue(!1),Ee());const e=this.value;if(Y(e))throw e.cause;return e}peek(){const e=this.computeValue(!1);if(Y(e))throw e.cause;return e}set(e){if(this.setter){c(!this.isRunningSetter,`The setter of computed value '${this.name}' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?`),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else c(!1,!1)}trackAndCompute(){const e=this.value,t=this.dependenciesState===G.NOT_TRACKING,n=this.computeValue(!0),r=t||Y(e)||Y(n)||!this.equals(e,n);return r&&(this.value=n),r}computeValue(e){let t;if(this.isComputing=!0,Se.computationDepth++,e)t=Z(this,this.derivation,this.scope);else if(!0===Se.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new J(e)}return Se.computationDepth--,this.isComputing=!1,t}suspend(){this.keepAlive||(ee(this),this.value=void 0)}observe(e,t){let n=!0,r=void 0;return Ke(()=>{let i=this.get();if(!n||t){const t=ne();e({type:"update",object:this,newValue:i,oldValue:r}),re(t)}n=!1,r=i})}warnAboutUntrackedRead(){}toJSON(){return this.get()}toString(){return`${this.name}[${this.derivation.toString()}]`}valueOf(){return b(this.get())}[Symbol.toPrimitive](){return this.valueOf()}}const me=p("ComputedValue",ye);class ge{constructor(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}const be={};function we(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:be}let _e=!0,Oe=!1,Se=function(){const e=we();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(_e=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ge).version&&(_e=!1),_e?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ge):(setTimeout(()=>{Oe||a("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ge)}();function xe(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function je(e,t){e.observers.delete(t),0===e.observers.size&&Pe(e)}function Pe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Se.pendingUnobservations.push(e))}function ke(){Se.inBatch++}function Ee(){if(0==--Se.inBatch){Ie();const e=Se.pendingUnobservations;for(let t=0;t<e.length;t++){const n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof ye&&n.suspend())}Se.pendingUnobservations=[]}}function Ae(e){const t=Se.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Se.inBatch>0&&Pe(e),!1)}function Te(e,t){if(console.log(`[mobx.trace] '${e.name}' is invalidated due to a change in: '${t.name}'`),e.isTracing===H.BREAK){const i=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(`${new Array(r).join("\t")}${t.name}`),t.dependencies&&t.dependencies.forEach(t=>e(t,n,r+1))}((n=e,Xe(Vt(n,r))),i,1),new Function(`debugger;\n/*\nTracing '${e.name}'\n\nYou are entering this break point because derivation '${e.name}' is being traced and '${t.name}' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n${e instanceof ye?e.derivation.toString().replace(/[*]\//g,"/"):""}\n\nThe dependencies for this derivation are:\n\n${i.join("\n")}\n*/\n    `)()}var n,r}class Ce{constructor(e="Reaction@"+s(),t,n,r=!1){this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=G.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+s(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=H.NONE}onBecomeStale(){this.schedule()}schedule(){this._isScheduled||(this._isScheduled=!0,Se.pendingReactions.push(this),Ie())}isScheduled(){return this._isScheduled}runReaction(){if(!this.isDisposed){if(ke(),this._isScheduled=!1,X(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Ee()}}track(e){if(this.isDisposed)return;ke();this._isRunning=!0;const t=Z(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ee(this),Y(t)&&this.reportExceptionInDerivation(t.cause),Ee()}reportExceptionInDerivation(e){if(this.errorHandler)return void this.errorHandler(e,this);if(Se.disableErrorBoundaries)throw e;const t=`[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '${this}'`;Se.suppressReactionErrors?console.warn(`[mobx] (error in reaction '${this.name}' suppressed, fix error of causing action below)`):console.error(t,e),Se.globalReactionErrorHandlers.forEach(t=>t(e,this))}dispose(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ke(),ee(this),Ee()))}getDisposer(){const e=this.dispose.bind(this);return e[w]=this,e}toString(){return`Reaction[${this.name}]`}trace(e=!1){ot(this,e)}}let Ne=e=>e();function Ie(){Se.inBatch>0||Se.isRunningReactions||Ne(De)}function De(){Se.isRunningReactions=!0;const e=Se.pendingReactions;let t=0;for(;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations."+` Probably there is a cycle in the reactive function: ${e[0]}`),e.splice(0));let n=e.splice(0);for(let e=0,t=n.length;e<t;e++)n[e].runReaction()}Se.isRunningReactions=!1}const Fe=p("Reaction",Ce);function Ve(){a(!1)}function Me(e){return function(t,n,r){if(r){if(r.value)return{value:le(e,r.value),enumerable:!1,configurable:!0,writable:!0};const{initializer:t}=r;return{enumerable:!1,configurable:!0,writable:!0,initializer(){return le(e,t.call(this))}}}return Re(e).apply(this,arguments)}}function Re(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get(){},set(t){d(this,n,Be(e,t))}})}}const Be=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?le(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?le(e,t):1===arguments.length&&"string"==typeof e?Me(e):!0!==r?Me(t).apply(null,arguments):void d(e,t,le(e.name||t,n.value,this))};function Ue(e,t){"string"==typeof e||e.name;return he(0,"function"==typeof e?e:t,this,void 0)}function Le(e,t,n){d(e,t,le(t,n.bind(e)))}function Ke(e,t=o){const n=t&&t.name||e.name||"Autorun@"+s();let r;if(!t.scheduler&&!t.delay)r=new Ce(n,(function(){this.track(i)}),t.onError,t.requiresObservable);else{const e=$e(t);let o=!1;r=new Ce(n,()=>{o||(o=!0,e(()=>{o=!1,r.isDisposed||r.track(i)}))},t.onError,t.requiresObservable)}function i(){e(r)}return r.schedule(),r.getDisposer()}Be.bound=function(e,t,n,r){return!0===r?(Le(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get(){return Le(this,t,n.value||n.initializer.call(this)),this[t]},set:Ve}:{enumerable:!1,configurable:!0,set(e){Le(this,t,e)},get(){}}};const ze=e=>e();function $e(e){return e.scheduler?e.scheduler:e.delay?t=>setTimeout(t,e.delay):ze}function qe(e,t,n=o){const r=n.name||"Reaction@"+s(),i=Be(r,n.onError?(a=n.onError,c=t,function(){try{return c.apply(this,arguments)}catch(e){a.call(this,e)}}):t);var a,c;const u=!n.scheduler&&!n.delay,l=$e(n);let h,f=!0,d=!1;const p=n.compareStructural?x.structural:n.equals||x.default,v=new Ce(r,()=>{f||u?y():d||(d=!0,l(y))},n.onError,n.requiresObservable);function y(){if(d=!1,v.isDisposed)return;let t=!1;v.track(()=>{const n=e(v);t=f||!p(h,n),h=n}),f&&n.fireImmediately&&i(h,v),f||!0!==t||i(h,v),f&&(f=!1)}return v.schedule(),v.getDisposer()}function We(e,t,n){return Ge("onBecomeUnobserved",e,t,n)}function Ge(e,t,n,r){const i="function"==typeof r?Vt(t,n):Vt(t),o="function"==typeof r?r:n,s=`${e}Listeners`;return i[s]?i[s].add(o):i[s]=new Set([o]),"function"!=typeof i[e]?a(!1):function(){const e=i[s];e&&(e.delete(o),0===e.size&&delete i[s])}}function He(e,t,n,r){const i=Je(r=M(r));return T(e),Tt(e,r.name,i.enhancer),t&&Ye(e,t,n,i),e}function Je(e){return e.defaultDecorator||(!1===e.deep?U:R)}function Ye(e,t,n,r){ke();try{const i=m(t);for(const o of i){const i=Object.getOwnPropertyDescriptor(t,o);0;const s=(n&&o in n?n[o]:i.get?W:r)(e,o,i,!0);s&&Object.defineProperty(e,o,s)}}finally{Ee()}}function Xe(e){const t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=function(e){const t=[];return e.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),t}(e.observing).map(Xe)),t}function Qe(){this.message="FLOW_CANCELLED"}function Ze(e,t){return null!=e&&(void 0!==t?!!Ft(e)&&e[w].values.has(t):Ft(e)||!!e[w]||O(e)||Fe(e)||me(e))}function et(e){return 1!==arguments.length&&a(!1),Ze(e)}function tt(e){return Ft(e)?e[w].getKeys():xt(e)?Array.from(e.keys()):Et(e)?Array.from(e.keys()):wt(e)?e.map((e,t)=>t):a(!1)}Qe.prototype=Object.create(Error.prototype);const nt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function rt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function it(e,t){let n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=nt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!et(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(ve(t))return e(t.get(),n,r);if(et(t)&&tt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(wt(t)||Array.isArray(t)){const i=rt(r,t,[],n),o=t.map(t=>e(t,n,r));i.length=o.length;for(let e=0,t=o.length;e<t;e++)i[e]=o[e];return i}if(Et(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){const i=rt(r,t,new Set,n);return t.forEach(t=>{i.add(e(t,n,r))}),i}{const i=rt(r,t,[],n);return t.forEach(t=>{i.push(e(t,n,r))}),i}}if(xt(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){const i=rt(r,t,new Map,n);return t.forEach((t,o)=>{i.set(o,e(t,n,r))}),i}{const i=rt(r,t,{},n);return t.forEach((t,o)=>{i[o]=e(t,n,r)}),i}}const i=rt(r,t,{},n);return m(t).forEach(o=>{i[o]=e(t[o],n,r)}),i}(e,t,n)}function ot(...e){let t=!1;"boolean"==typeof e[e.length-1]&&(t=e.pop());const n=function(e){switch(e.length){case 0:return Se.trackingDerivation;case 1:return Vt(e[0]);case 2:return Vt(e[0],e[1])}}(e);if(!n)return a(!1);n.isTracing===H.NONE&&console.log(`[mobx.trace] '${n.name}' tracing enabled`),n.isTracing=t?H.BREAK:H.LOG}function st(e,t){ke();try{return e.apply(t)}finally{Ee()}}function at(e){return e[w]}function ct(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}const ut={has(e,t){if(t===w||"constructor"===t||t===j)return!0;const n=at(e);return ct(t)?n.has(t):t in e},get(e,t){if(t===w||"constructor"===t||t===j)return e[t];const n=at(e),r=n.values.get(t);if(r instanceof _){const e=r.get();return void 0===e&&n.has(t),e}return ct(t)&&n.has(t),e[t]},set:(e,t,n)=>!!ct(t)&&(function e(t,n,r){if(2!==arguments.length||Et(t))if(Ft(t)){const e=t[w];e.values.get(n)?e.write(n,r):e.addObservableProp(n,r,e.defaultEnhancer)}else if(xt(t))t.set(n,r);else if(Et(t))t.add(n);else{if(!wt(t))return a(!1);"number"!=typeof n&&(n=parseInt(n,10)),c(n>=0,`Not a valid index: '${n}'`),ke(),n>=t.length&&(t.length=n+1),t[n]=r,Ee()}else{ke();const r=n;try{for(let n in r)e(t,n,r[n])}finally{Ee()}}}(e,t,n),!0),deleteProperty(e,t){if(!ct(t))return!1;return at(e).remove(t),!0},ownKeys:e=>(at(e).keysAtom.reportObserved(),Reflect.ownKeys(e)),preventExtensions:e=>(a("Dynamic observable objects cannot be frozen"),!1)};function lt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function ht(e,t){const n=e.interceptors||(e.interceptors=[]);return n.push(t),u(()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function ft(e,t){const n=ne();try{const r=[...e.interceptors||[]];for(let e=0,n=r.length;e<n&&(c(!(t=r[e](t))||t.type,"Intercept handlers should return nothing or a change object"),t);e++);return t}finally{re(n)}}function dt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function pt(e,t){const n=e.changeListeners||(e.changeListeners=[]);return n.push(t),u(()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function vt(e,t){const n=ne();let r=e.changeListeners;if(r){r=r.slice();for(let e=0,n=r.length;e<n;e++)r[e](t);re(n)}}const yt={get:(e,t)=>t===w?e[w]:"length"===t?e[w].getArrayLength():"number"==typeof t?gt.get.call(e,t):"string"!=typeof t||isNaN(t)?gt.hasOwnProperty(t)?gt[t]:e[t]:gt.get.call(e,parseInt(t)),set:(e,t,n)=>("length"===t&&e[w].setArrayLength(n),"number"==typeof t&&gt.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:gt.set.call(e,parseInt(t),n),!0),preventExtensions:e=>(a("Observable arrays cannot be frozen"),!1)};class mt{constructor(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new _(e||"ObservableArray@"+s()),this.enhancer=(n,r)=>t(n,r,e+"[..]")}dehanceValue(e){return void 0!==this.dehancer?this.dehancer(e):e}dehanceValues(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e}intercept(e){return ht(this,e)}observe(e,t=!1){return t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),pt(this,e)}getArrayLength(){return this.atom.reportObserved(),this.values.length}setArrayLength(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);let t=this.values.length;if(e!==t)if(e>t){const n=new Array(e-t);for(let r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)}updateArrayLength(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t}spliceWithArray(e,t,n){Q(this.atom);const r=this.values.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1===arguments.length?r-e:null==t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=i),lt(this)){const r=ft(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!r)return i;t=r.removedCount,n=r.added}n=0===n.length?n:n.map(e=>this.enhancer(e,void 0));const o=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,o),this.dehanceValues(o)}spliceItemsIntoValues(e,t,n){if(n.length<1e4)return this.values.splice(e,t,...n);{const r=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),r}}notifyArrayChildUpdate(e,t,n){const r=!this.owned&&!1,i=dt(this),o=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),i&&vt(this,o)}notifyArraySplice(e,t,n){const r=!this.owned&&!1,i=dt(this),o=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&vt(this,o)}}const gt={intercept(e){return this[w].intercept(e)},observe(e,t=!1){return this[w].observe(e,t)},clear(){return this.splice(0)},replace(e){const t=this[w];return t.spliceWithArray(0,t.values.length,e)},toJS(){return this.slice()},toJSON(){return this.toJS()},splice(e,t,...n){const r=this[w];switch(arguments.length){case 0:return[];case 1:return r.spliceWithArray(e);case 2:return r.spliceWithArray(e,t)}return r.spliceWithArray(e,t,n)},spliceWithArray(e,t,n){return this[w].spliceWithArray(e,t,n)},push(...e){const t=this[w];return t.spliceWithArray(t.values.length,0,e),t.values.length},pop(){return this.splice(Math.max(this[w].values.length-1,0),1)[0]},shift(){return this.splice(0,1)[0]},unshift(...e){const t=this[w];return t.spliceWithArray(0,0,e),t.values.length},reverse(){const e=this.slice();return e.reverse.apply(e,arguments)},sort(e){const t=this.slice();return t.sort.apply(t,arguments)},remove(e){const t=this[w],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get(e){const t=this[w];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn(`[mobx.array] Attempt to read an array index (${e}) that is out of bounds (${t.values.length}). Please check length first. Out of bound indices will not be tracked by MobX`)}},set(e,t){const n=this[w],r=n.values;if(e<r.length){Q(n.atom);const i=r[e];if(lt(n)){const r=ft(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!r)return;t=r.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error(`[mobx.array] Index out of bounds, ${e} is larger than ${r.length}`);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(e=>{gt[e]=function(){const t=this[w];t.atom.reportObserved();const n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}});const bt=p("ObservableArrayAdministration",mt);function wt(e){return h(e)&&bt(e[w])}var _t;const Ot={};class St{constructor(e,t=I,n="ObservableMap@"+s()){if(this.enhancer=t,this.name=n,this[_t]=Ot,this._keysAtom=S(`${this.name}.keys()`),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}_has(e){return this._data.has(e)}has(e){if(!Se.trackingDerivation)return this._has(e);let t=this._hasMap.get(e);if(!t){const n=t=new pe(this._has(e),D,`${this.name}.${g(e)}?`,!1);this._hasMap.set(e,n),We(n,()=>this._hasMap.delete(e))}return t.get()}set(e,t){const n=this._has(e);if(lt(this)){const r=ft(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this}delete(e){if(lt(this)){if(!ft(this,{type:"delete",object:this,name:e}))return!1}if(this._has(e)){const t=!1,n=dt(this),r=n||t?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return st(()=>{this._keysAtom.reportChanged(),this._updateHasMapEntry(e,!1),this._data.get(e).setNewValue(void 0),this._data.delete(e)}),n&&vt(this,r),!0}return!1}_updateHasMapEntry(e,t){let n=this._hasMap.get(e);n&&n.setNewValue(t)}_updateValue(e,t){const n=this._data.get(e);if((t=n.prepareNewValue(t))!==Se.UNCHANGED){const r=!1,i=dt(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),i&&vt(this,o)}}_addValue(e,t){Q(this._keysAtom),st(()=>{const n=new pe(t,this.enhancer,`${this.name}.${g(e)}`,!1);this._data.set(e,n),t=n.value,this._updateHasMapEntry(e,!0),this._keysAtom.reportChanged()});const n=dt(this),r=n?{type:"add",object:this,name:e,newValue:t}:null;n&&vt(this,r)}get(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)}dehanceValue(e){return void 0!==this.dehancer?this.dehancer(e):e}keys(){return this._keysAtom.reportObserved(),this._data.keys()}values(){const e=this;let t=0;const n=Array.from(this.keys());return Kt({next:()=>t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}})}entries(){const e=this;let t=0;const n=Array.from(this.keys());return Kt({next:function(){if(t<n.length){const r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})}[(_t=w,Symbol.iterator)](){return this.entries()}forEach(e,t){for(const[n,r]of this)e.call(t,r,n,this)}merge(e){return xt(e)&&(e=e.toJS()),st(()=>{f(e)?m(e).forEach(t=>this.set(t,e[t])):Array.isArray(e)?e.forEach(([e,t])=>this.set(e,t)):v(e)?(e.constructor!==Map&&a("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((e,t)=>this.set(t,e))):null!=e&&a("Cannot initialize map from "+e)}),this}clear(){st(()=>{te(()=>{for(const e of this.keys())this.delete(e)})})}replace(e){return st(()=>{const t=f(n=e)?Object.keys(n):Array.isArray(n)?n.map(([e])=>e):v(n)||xt(n)?Array.from(n.keys()):a(`Cannot get keys from '${n}'`);var n;Array.from(this.keys()).filter(e=>-1===t.indexOf(e)).forEach(e=>this.delete(e)),this.merge(e)}),this}get size(){return this._keysAtom.reportObserved(),this._data.size}toPOJO(){const e={};for(const[t,n]of this)e["symbol"==typeof t?t:g(t)]=n;return e}toJS(){return new Map(this)}toJSON(){return this.toPOJO()}toString(){return this.name+"[{ "+Array.from(this.keys()).map(e=>`${g(e)}: ${""+this.get(e)}`).join(", ")+" }]"}observe(e,t){return pt(this,e)}intercept(e){return ht(this,e)}}const xt=p("ObservableMap",St);var jt;const Pt={};class kt{constructor(e,t=I,n="ObservableSet@"+s()){if(this.name=n,this[jt]=Pt,this._data=new Set,this._atom=S(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=(e,r)=>t(e,r,n),e&&this.replace(e)}dehanceValue(e){return void 0!==this.dehancer?this.dehancer(e):e}clear(){st(()=>{te(()=>{for(const e of this._data.values())this.delete(e)})})}forEach(e,t){for(const n of this)e.call(t,n,n,this)}get size(){return this._atom.reportObserved(),this._data.size}add(e){if(Q(this._atom),lt(this)){if(!ft(this,{type:"add",object:this,newValue:e}))return this}if(!this.has(e)){st(()=>{this._data.add(this.enhancer(e,void 0)),this._atom.reportChanged()});const t=!1,n=dt(this),r=n||t?{type:"add",object:this,newValue:e}:null;0,n&&vt(this,r)}return this}delete(e){if(lt(this)){if(!ft(this,{type:"delete",object:this,oldValue:e}))return!1}if(this.has(e)){const t=!1,n=dt(this),r=n||t?{type:"delete",object:this,oldValue:e}:null;return st(()=>{this._atom.reportChanged(),this._data.delete(e)}),n&&vt(this,r),!0}return!1}has(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))}entries(){let e=0;const t=Array.from(this.keys()),n=Array.from(this.values());return Kt({next(){const r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})}keys(){return this.values()}values(){this._atom.reportObserved();const e=this;let t=0;const n=Array.from(this._data.values());return Kt({next:()=>t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}})}replace(e){return Et(e)&&(e=e.toJS()),st(()=>{Array.isArray(e)?(this.clear(),e.forEach(e=>this.add(e))):y(e)?(this.clear(),e.forEach(e=>this.add(e))):null!=e&&a("Cannot initialize set from "+e)}),this}observe(e,t){return pt(this,e)}intercept(e){return ht(this,e)}toJS(){return new Set(this)}toString(){return this.name+"[ "+Array.from(this).join(", ")+" ]"}[(jt=w,Symbol.iterator)](){return this.values()}}const Et=p("ObservableSet",kt);class At{constructor(e,t=new Map,n,r){this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new _(n+".keys")}read(e){return this.values.get(e).get()}write(e,t){const n=this.target,r=this.values.get(e);if(r instanceof ye)r.set(t);else{if(lt(this)){const r=ft(this,{type:"update",object:this.proxy||n,name:e,newValue:t});if(!r)return;t=r.newValue}if((t=r.prepareNewValue(t))!==Se.UNCHANGED){const i=dt(this),o=!1,s=i||o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),i&&vt(this,s)}}}has(e){const t=this.pendingKeys||(this.pendingKeys=new Map);let n=t.get(e);if(n)return n.get();{const r=!!this.values.get(e);return n=new pe(r,D,`${this.name}.${g(e)}?`,!1),t.set(e,n),n.get()}}addObservableProp(e,t,n=this.defaultEnhancer){const{target:r}=this;if(lt(this)){const n=ft(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!n)return;t=n.newValue}const i=new pe(t,n,`${this.name}.${g(e)}`,!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return Ct[e]||(Ct[e]={configurable:!0,enumerable:!0,get(){return this[w].read(e)},set(t){this[w].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)}addComputedProp(e,t,n){const{target:r}=this;n.name=n.name||`${this.name}.${g(t)}`,this.values.set(t,new ye(n)),(e===r||function(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}(e,t))&&Object.defineProperty(e,t,function(e){return Nt[e]||(Nt[e]={configurable:Se.computedConfigurable,enumerable:!1,get(){return It(this).read(e)},set(t){It(this).write(e,t)}})}(t))}remove(e){if(!this.values.has(e))return;const{target:t}=this;if(lt(this)){if(!ft(this,{object:this.proxy||t,name:e,type:"remove"}))return}try{ke();const n=dt(this),r=!1,i=this.values.get(e),o=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){const t=this.pendingKeys.get(e);t&&t.set(!1)}delete this.target[e];const s=n||r?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;0,n&&vt(this,s)}finally{Ee()}}illegalAccess(e,t){console.warn(`Property '${t}' of '${e}' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner`)}observe(e,t){return pt(this,e)}intercept(e){return ht(this,e)}notifyPropertyAddition(e,t){const n=dt(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&vt(this,r),this.pendingKeys){const t=this.pendingKeys.get(e);t&&t.set(!0)}this.keysAtom.reportChanged()}getKeys(){this.keysAtom.reportObserved();const e=[];for(const[t,n]of this.values)n instanceof pe&&e.push(t);return e}}function Tt(e,t="",n=I){if(Object.prototype.hasOwnProperty.call(e,w))return e[w];f(e)||(t=(e.constructor.name||"ObservableObject")+"@"+s()),t||(t="ObservableObject@"+s());const r=new At(e,new Map,g(t),n);return d(e,w,r),r}const Ct=Object.create(null),Nt=Object.create(null);function It(e){const t=e[w];return t||(T(e),e[w])}const Dt=p("ObservableObjectAdministration",At);function Ft(e){return!!h(e)&&(T(e),Dt(e[w]))}function Vt(e,t){if("object"==typeof e&&null!==e){if(wt(e))return void 0!==t&&a(!1),e[w].atom;if(Et(e))return e[w];if(xt(e)){const n=e;if(void 0===t)return n._keysAtom;const r=n._data.get(t)||n._hasMap.get(t);return r||a(!1),r}if(T(e),t&&!e[w]&&e[t],Ft(e)){if(!t)return a(!1);const n=e[w].values.get(t);return n||a(!1),n}if(O(e)||me(e)||Fe(e))return e}else if("function"==typeof e&&Fe(e[w]))return e[w];return a(!1)}function Mt(e,t){return e||a("Expecting some object"),void 0!==t?Mt(Vt(e,t)):O(e)||me(e)||Fe(e)?e:xt(e)||Et(e)?e:(T(e),e[w]?e[w]:void a(!1))}const Rt=Object.prototype.toString;function Bt(e,t,n=-1){return function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;const s=typeof t;if("function"!==s&&"object"!==s&&"object"!=typeof n)return!1;const a=Rt.call(t);if(a!==Rt.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=Ut(t),n=Ut(n);const c="[object Array]"===a;if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;const e=t.constructor,r=n.constructor;if(e!==r&&!("function"==typeof e&&e instanceof e&&"function"==typeof r&&r instanceof r)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];let u=(i=i||[]).length;for(;u--;)if(i[u]===t)return o[u]===n;if(i.push(t),o.push(n),c){if(u=t.length,u!==n.length)return!1;for(;u--;)if(!e(t[u],n[u],r-1,i,o))return!1}else{const s=Object.keys(t);let a;if(u=s.length,Object.keys(n).length!==u)return!1;for(;u--;)if(a=s[u],!Lt(n,a)||!e(t[a],n[a],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function Ut(e){return wt(e)?e.slice():v(e)||xt(e)?Array.from(e.entries()):y(e)||Et(e)?Array.from(e.entries()):e}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kt(e){return e[Symbol.iterator]=zt,e}function zt(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(e,t){let n;return n=void 0!==t?Vt(e,t):Ft(e)||xt(e)||Et(e)?Mt(e):Vt(e),n.name}},$mobx:w})}).call(this,n(90),n(82))},391:function(e,t,n){"use strict";n.r(t);var r=n(95);var i=n(158),o=n(202),s=n(201),a=r.b`:host{
    display: flex;
    flex-direction: column;
    overflow:auto;
}

main{
    flex: 1 1;
    min-height: 20em;
}

.page {
    display: none;
}

.page[active] {
    display: block;
    height:100%;
}

#report{
    position: absolute;
    z-index: 101;
    right: 0.5em;
    top: 0.5em;
}`;n.e(17).then(n.bind(null,461)),n.e(18).then(n.bind(null,412)),n.e(16).then(n.bind(null,460));class c extends o.a{static get styles(){return[s.a,a]}render(){return r.c`
            <c4f-modal></c4f-modal>
            <c4f-bug-tracker id="report"></c4f-bug-tracker>
            <header>
                <ai-header title="AI Playground"></ai-header>
            </header>
            <main>
                <ai-404 class="page" ?active="${"404"===i.a.page}"></ai-404>
                <ai-news class="page" ?active="${"news"===i.a.page}"></ai-news>
                <ai-impressum class="page" ?active="${"impressum"===i.a.page}"></ai-impressum>
                <ai-project class="page" ?active="${"project"===i.a.page}"></ai-project>
                <ai-project-index class="page" ?active="${"projects"===i.a.page}"></ai-project-index>
            </main>
        `}firstUpdated(){var e,t;e=e=>i.a.navigate(decodeURIComponent(e.pathname),e.search),document.body.addEventListener("click",t=>{if(t.defaultPrevented||0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey)return;const n=t.composedPath().filter(e=>"A"===e.tagName)[0];if(!n||n.target||n.hasAttribute("download")||"external"===n.getAttribute("rel"))return;const r=n.href;if(!r||-1!==r.indexOf("mailto:"))return;const i=window.location,o=i.origin||i.protocol+"//"+i.host;0===r.indexOf(o)&&(t.preventDefault(),r!==i.href&&(window.history.pushState({},"",r),e(i,t)))}),window.addEventListener("popstate",t=>e(window.location,t)),e(window.location,null),t=e=>i.a.updateOfflineStatus(e),window.addEventListener("online",()=>t(!1)),window.addEventListener("offline",()=>t(!0)),t(!1===navigator.onLine)}}window.customElements.define("ai-app",c)},394:function(e,t,n){"use strict";var r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},i=n(168),o=function(){return i.a.Date.now()},s=n(189),a=n(185);var c=function(e){return"symbol"==typeof e||Object(a.a)(e)&&"[object Symbol]"==Object(s.a)(e)},u=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt;var p=function(e){if("number"==typeof e)return e;if(c(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=h.test(e);return n||f.test(e)?d(e.slice(2),n?2:8):l.test(e)?NaN:+e},v=Math.max,y=Math.min;var m=function(e,t,n){var i,s,a,c,u,l,h=0,f=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=i,r=s;return i=s=void 0,h=t,c=e.apply(r,n)}function b(e){return h=e,u=setTimeout(_,t),f?g(e):c}function w(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-h>=a}function _(){var e=o();if(w(e))return O(e);u=setTimeout(_,function(e){var n=t-(e-l);return d?y(n,a-(e-h)):n}(e))}function O(e){return u=void 0,m&&i?g(e):(i=s=void 0,c)}function S(){var e=o(),n=w(e);if(i=arguments,s=this,l=e,n){if(void 0===u)return b(l);if(d)return clearTimeout(u),u=setTimeout(_,t),g(l)}return void 0===u&&(u=setTimeout(_,t)),c}return t=p(t)||0,r(n)&&(f=!!n.leading,a=(d="maxWait"in n)?v(p(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==u&&clearTimeout(u),h=0,i=l=s=u=void 0},S.flush=function(){return void 0===u?c:O(o())},S};t.a=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:i,maxWait:t,trailing:o})}},62:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return v}));var r=n(118),i=n.n(r);function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var s=0;function a(e){return"__private_"+s+++"_"+e}async function c(e,t=null,n=self,r=[]){return new Promise((i,o)=>{let s;t&&(s=setTimeout(()=>{o(Error(`message timeout: ${e}`))},t));const a=new MessageChannel;a.port1.onmessage=e=>{clearTimeout(s),e.data&&e.data.result?i(e.data.result):i(void 0)},n.postMessage(e,[a.port2,...r])})}class u{constructor(){Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),this.promise=void 0,this.resolved=!1,this.value=void 0,this.promise=new Promise((e,t)=>{o(this,l)[l]=e,o(this,h)[h]=t})}resolve(e){return this.resolved=!0,this.value=e,o(this,l)[l](e),e}reject(e){this.resolved=!0,o(this,h)[h](e)}}var l=a("resolve"),h=a("reject");function f(e){return i()(e,{replacer:function(e,t){return t instanceof Error?{type:"__ERROR__",message:t.message,stack:t.stack}:t instanceof Function?{type:"__FUNCTION__",name:t.name}:t instanceof Map?{type:"__MAP__",data:[...t]}:t instanceof Set?{type:"__SET__",data:[...t]}:t instanceof Date||"string"==typeof t&&/^\d{4}-[01]\d-[0-3]\dT[012]\d:[0-5]\d:[0-5]\d\.\d{3}Z$/.test(t)?{type:"__DATE__",timestamp:+new Date(t)}:t instanceof Uint8Array?{type:"__Uint8Array__",data:Array.from(t)}:void 0===t?"__UNDEFINED__":t===Number.POSITIVE_INFINITY?"__+INFINITY__":t===Number.NEGATIVE_INFINITY?"__-INFINITY__":Number.isNaN(t)?"__NAN__":t}})}function d(e){return function e(t,n){if(t instanceof Object)for(const[r,i]of Object.entries(t))t[r]=e(i,n);return n(t)}(JSON.parse(e,(function(e,t){if(t instanceof Object){if("__ERROR__"===t.type){const e=Error(t.message);return e.stack=t.stack,e}if("__FUNCTION__"===t.type){const n=self[t.name];return n instanceof Function?n:void console.warn(`Skipped ${e}: Only global functions can be deserialized!`)}if("__MAP__"===t.type)return new Map(t.data);if("__SET__"===t.type)return new Set(t.data);if("__DATE__"===t.type)return new Date(t.timestamp);if("__Uint8Array__"===t.type)return new Uint8Array(t.data)}return"__+INFINITY__"===t?Number.POSITIVE_INFINITY:"__-INFINITY__"===t?Number.NEGATIVE_INFINITY:"__NAN__"===t?NaN:t})),e=>{if("__UNDEFINED__"!==e)return e})}function p(e,t=window){const n=n=>{const r=e.getBoundingClientRect(),i={bubbles:n.bubbles,cancelable:n.cancelable,clientX:n.clientX+r.x,clientY:n.clientY+r.y,pageX:n.pageX+r.x,pageY:n.pageY+r.y,x:n.x+r.x,y:n.y+r.y,offsetX:n.offsetX+r.x,offsetY:n.offsetY+r.y};t.dispatchEvent(new MouseEvent(n.type,i))},r=e=>{t.dispatchEvent(new KeyboardEvent(e.type,e))},i=e.contentWindow;if(!i)throw new y("iframe has no contentWindow");i.onmousedown=n,i.onmousemove=n,i.onmouseup=n,i.onkeydown=r,i.onkeypress=r,i.onkeyup=r}function v(){throw new y("Something went terribly wrong. This should never be called!")}class y extends Error{}},70:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return h}));const r=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${r}--\x3e`,o=new RegExp(`${r}|${i}`),s="$lit$";class a{constructor(e,t){this.parts=[],this.element=t;const n=[],i=[],a=document.createTreeWalker(t.content,133,null,!1);let u=0,f=-1,d=0;const{strings:p,values:{length:v}}=e;for(;d<v;){const e=a.nextNode();if(null!==e){if(f++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)c(t[e].name,s)&&r++;for(;r-- >0;){const t=p[d],n=h.exec(t)[2],r=n.toLowerCase()+s,i=e.getAttribute(r);e.removeAttribute(r);const a=i.split(o);this.parts.push({type:"attribute",index:f,name:n,strings:a}),d+=a.length-1}}"TEMPLATE"===e.tagName&&(i.push(e),a.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(r)>=0){const r=e.parentNode,i=t.split(o),a=i.length-1;for(let t=0;t<a;t++){let n,o=i[t];if(""===o)n=l();else{const e=h.exec(o);null!==e&&c(e[2],s)&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-s.length)+e[3]),n=document.createTextNode(o)}r.insertBefore(n,e),this.parts.push({type:"node",index:++f})}""===i[a]?(r.insertBefore(l(),e),n.push(e)):e.data=i[a],d+=a}}else if(8===e.nodeType)if(e.data===r){const t=e.parentNode;null!==e.previousSibling&&f!==u||(f++,t.insertBefore(l(),e)),u=f,this.parts.push({type:"node",index:f}),null===e.nextSibling?e.data="":(n.push(e),f--),d++}else{let t=-1;for(;-1!==(t=e.data.indexOf(r,t+1));)this.parts.push({type:"node",index:-1}),d++}}else a.currentNode=i.pop()}for(const e of n)e.parentNode.removeChild(e)}}const c=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},u=e=>-1!==e.index,l=()=>document.createComment(""),h=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},82:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},90:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},95:function(e,t,n){"use strict";n.d(t,"c",(function(){return r.e})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return E}));var r=n(136),i=n(119),o=n(70);function s(e,t){const{element:{content:n},parts:r}=e,i=document.createTreeWalker(n,133,null,!1);let o=c(r),s=r[o],a=-1,u=0;const l=[];let h=null;for(;i.nextNode();){a++;const e=i.currentNode;for(e.previousSibling===h&&(h=null),t.has(e)&&(l.push(e),null===h&&(h=e)),null!==h&&u++;void 0!==s&&s.index===a;)s.index=null!==h?-1:s.index-u,o=c(r,o),s=r[o]}l.forEach(e=>e.parentNode.removeChild(e))}const a=e=>{let t=11===e.nodeType?0:1;const n=document.createTreeWalker(e,133,null,!1);for(;n.nextNode();)t++;return t},c=(e,t=-1)=>{for(let n=t+1;n<e.length;n++){const t=e[n];if(Object(o.d)(t))return n}return-1};var u=n(149),l=n(147),h=n(167);const f=(e,t)=>`${e}--${t}`;let d=!0;void 0===window.ShadyCSS?d=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),d=!1);const p=e=>t=>{const n=f(t.type,e);let r=l.a.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},l.a.set(n,r));let i=r.stringsArray.get(t.strings);if(void 0!==i)return i;const s=t.strings.join(o.f);if(i=r.keyString.get(s),void 0===i){const n=t.getTemplateElement();d&&window.ShadyCSS.prepareTemplateDom(n,e),i=new o.a(t,n),r.keyString.set(s,i)}return r.stringsArray.set(t.strings,i),i},v=["html","svg"],y=new Set,m=(e,t,n)=>{y.add(e);const r=n?n.element:document.createElement("template"),i=t.querySelectorAll("style"),{length:o}=i;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(r,e);const u=document.createElement("style");for(let e=0;e<o;e++){const t=i[e];t.parentNode.removeChild(t),u.textContent+=t.textContent}(e=>{v.forEach(t=>{const n=l.a.get(f(t,e));void 0!==n&&n.keyString.forEach(e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{n.add(e)}),s(e,n)})})})(e);const h=r.content;n?function(e,t,n=null){const{element:{content:r},parts:i}=e;if(null==n)return void r.appendChild(t);const o=document.createTreeWalker(r,133,null,!1);let s=c(i),u=0,l=-1;for(;o.nextNode();){for(l++,o.currentNode===n&&(u=a(t),n.parentNode.insertBefore(t,n));-1!==s&&i[s].index===l;){if(u>0){for(;-1!==s;)i[s].index+=u,s=c(i,s);return}s=c(i,s)}}}(n,u,h.firstChild):h.insertBefore(u,h.firstChild),window.ShadyCSS.prepareTemplateStyles(r,e);const d=h.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==d)t.insertBefore(d.cloneNode(!0),t.firstChild);else if(n){h.insertBefore(u,h.firstChild);const e=new Set;e.add(u),s(n,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const g={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},b=(e,t)=>t!==e&&(t==t||e==e),w={attribute:!0,type:String,converter:g,reflect:!1,hasChanged:b},_=Promise.resolve(!0);class O extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=_,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,n)=>{const r=this._attributeNameForProperty(n,t);void 0!==r&&(this._attributeToPropertyMap.set(r,n),e.push(r))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=w){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[n]},set(t){const r=this[e];this[n]=t,this._requestUpdate(e,r)},configurable:!0,enumerable:!0})}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const n of t)this.createProperty(n,e[n])}}static _attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,n=b){return n(e,t)}static _propertyValueFromAttribute(e,t){const n=t.type,r=t.converter||g,i="function"==typeof r?r:r.fromAttribute;return i?i(e,n):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const n=t.type,r=t.converter;return(r&&r.toAttribute||g.toAttribute)(e,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t,n=w){const r=this.constructor,i=r._attributeNameForProperty(e,n);if(void 0!==i){const e=r._propertyValueToAttribute(t,n);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){const e=n._classProperties.get(r)||w;this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}_requestUpdate(e,t){let n=!0;if(void 0!==e){const r=this.constructor,i=r._classProperties.get(e)||w;r._valueHasChanged(this[e],t,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==i.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=4|this._updateState;const n=this._updatePromise;this._updatePromise=new Promise((n,r)=>{e=n,t=r});try{await n}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return 32&this._updateState}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}O.finalized=!0;const S="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,x=Symbol();class j{constructor(e,t){if(t!==x)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(S?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const P=(e,...t)=>{const n=t.reduce((t,n,r)=>t+(e=>{if(e instanceof j)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+e[r+1],e[0]);return new j(n,x)};(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const k=e=>e.flat?e.flat(1/0):function e(t,n=[]){for(let r=0,i=t.length;r<i;r++){const i=t[r];Array.isArray(i)?e(i,n):n.push(i)}return n}(e);class E extends O{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){k(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?S?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof r.b&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}E.finalized=!0,E.render=(e,t,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const r=n.scopeName,o=u.a.has(t),s=d&&11===t.nodeType&&!!t.host,a=s&&!y.has(r),c=a?document.createDocumentFragment():t;if(Object(u.b)(e,c,Object.assign({templateFactory:p(r)},n)),a){const e=u.a.get(c);u.a.delete(c);const n=e.value instanceof h.a?e.value.template:void 0;m(r,c,n),Object(i.b)(t,t.firstChild),t.appendChild(c),u.a.set(t,e)}!o&&s&&window.ShadyCSS.styleElement(t.host)}},96:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return g}));var r=n(148),i=n(119),o=n(105),s=n(167),a=n(159),c=n(70);const u=e=>null===e||!("object"==typeof e||"function"==typeof e),l=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class h{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new f(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(u(e)||!l(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class f{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===o.a||u(e)&&e===this.value||(this.value=e,Object(r.b)(e)||(this.committer.dirty=!0))}commit(){for(;Object(r.b)(this.value);){const e=this.value;this.value=o.a,e(this)}this.value!==o.a&&this.committer.commit()}}class d{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(Object(c.c)()),this.endNode=e.appendChild(Object(c.c)())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=Object(c.c)()),e.__insert(this.endNode=Object(c.c)())}insertAfterPart(e){e.__insert(this.startNode=Object(c.c)()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;Object(r.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=o.a,e(this)}const e=this.__pendingValue;e!==o.a&&(u(e)?e!==this.value&&this.__commitText(e):e instanceof a.b?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):l(e)?this.__commitIterable(e):e===o.b?(this.value=o.b,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof s.a&&this.value.template===t)this.value.update(e.values);else{const n=new s.a(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const i of e)n=t[r],void 0===n&&(n=new d(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(i),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(e=this.startNode){Object(i.b)(this.startNode.parentNode,e.nextSibling,this.endNode)}}class p{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;Object(r.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=o.a,e(this)}if(this.__pendingValue===o.a)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=o.a}}class v extends h{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new y(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class y extends f{}let m=!1;try{const e={get capture(){return m=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class g{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;Object(r.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=o.a,e(this)}if(this.__pendingValue===o.a)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),i=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=b(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=o.a}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const b=e=>e&&(m?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)}});